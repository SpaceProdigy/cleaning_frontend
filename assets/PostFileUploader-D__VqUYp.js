import{s as we,B as Fe,v as kt,w as Pt,j as z,i as gt,a as J,u as ke,b as Je,Y as mt,aV as ve,P as vt,N as jt,T as Ot,a5 as ot,k as at,aW as st,W as Dt,f as Ht,r as We,I as Bt,a0 as lt,aX as ft,aY as ct,g as Wt,aZ as zt}from"./index-Dv92ewjY.js";import{e as Re}from"./errorMessages-BwI69bNi.js";import{u as qt,C as ut}from"./index.esm-DAnOPJN-.js";import{F as Nt,I as Qt}from"./Favorite-CMxIquw_.js";import{M as Gt,r as $t,U as Vt}from"./UniversalReactMarkdown-BEtWIvZs.js";import{F as Oe,I as De,a as He,O as ze}from"./OutlinedInput-HEUzjVL6.js";import{S as Zt,M as Kt}from"./Select-C_gf3_QX.js";import{d as Xt}from"./Close-BaFRr5Mm.js";import{A as Yt}from"./index-DrJ0Yevt.js";const ht="/cleaning_frontend/assets/hero-yK5kWOTn.png",Tn=we(Fe)`
  width: 100%;
  height: 100%;
  background-image: url(${ht});
  background-position: center;
  background-size: cover;
  background-repeat: no-repeat;

  @media screen and (min-width: 720px) {
    background-image: url(${ht});
  }

  &::before {
    content: "";
    position: absolute;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: #11111170;
  }
`,En=we(Fe)`
  position: absolute;
  width: 90%;
  max-width: 350px;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
  background: ${({theme:E})=>E.palette.mode==="dark"?"#000000bb":"#ffffffbb"};
  padding: 30px 0;
  border-radius: 7px;
`,Rn=we(Fe)`
  position: relative;
  width: calc(100% + 32px);
  height: 100vh;
  margin-left: -16px;
  margin-right: -16px;

  @media screen and (min-width: 600px) {
    margin-left: -24px;
    margin-right: -24px;
    width: calc(100% + 48px);
  }
`,Ln=we(Fe)`
  margin-bottom: 20px;
  padding: 20px 0;
  width: 100%;
  display: flex;
  flex-wrap: nowrap;
  gap: 10px;
  overflow-x: auto;
  overflow-y: hidden;
  scrollbar-width: thin;
`,Mn=we(Fe)`
  display: flex;
  align-items: center;
  height: 100%;
`,Sn=we(Fe)`
  border-radius: 4px;
  max-width: 600px;
  width: 100%;
  max-height: 600px;
  overflow: auto;
  position: absolute;
  scrollbar-width: thin;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
`;function Jt(E,S){return S.forEach(function(O){O&&typeof O!="string"&&!Array.isArray(O)&&Object.keys(O).forEach(function(h){if(h!=="default"&&!(h in E)){var e=Object.getOwnPropertyDescriptor(O,h);Object.defineProperty(E,h,e.get?e:{enumerable:!0,get:function(){return O[h]}})}})}),Object.freeze(E)}function bt(E,S){return new Promise(function(O,h){let e;return en(E).then(function(t){try{return e=t,O(new Blob([S.slice(0,2),e,S.slice(2)],{type:"image/jpeg"}))}catch(c){return h(c)}},h)})}const en=E=>new Promise((S,O)=>{const h=new FileReader;h.addEventListener("load",({target:{result:e}})=>{const t=new DataView(e);let c=0;if(t.getUint16(c)!==65496)return O("not a valid JPEG");for(c+=2;;){const s=t.getUint16(c);if(s===65498)break;const p=t.getUint16(c+2);if(s===65505&&t.getUint32(c+4)===1165519206){const y=c+10;let n;switch(t.getUint16(y)){case 18761:n=!0;break;case 19789:n=!1;break;default:return O("TIFF header contains invalid endian")}if(t.getUint16(y+2,n)!==42)return O("TIFF header contains invalid version");const i=t.getUint32(y+4,n),r=y+i+2+12*t.getUint16(y+i,n);for(let a=y+i+2;a<r;a+=12)if(t.getUint16(a,n)==274){if(t.getUint16(a+2,n)!==3)return O("Orientation data type is invalid");if(t.getUint32(a+4,n)!==1)return O("Orientation data count is invalid");t.setUint16(a+8,1,n);break}return S(e.slice(c,c+2+p))}c+=2+p}return S(new Blob)}),h.readAsArrayBuffer(E)});var Ne={},tn={get exports(){return Ne},set exports(E){Ne=E}};(function(E){var S,O,h={};tn.exports=h,h.parse=function(e,t){for(var c=h.bin.readUshort,s=h.bin.readUint,p=0,y={},n=new Uint8Array(e),i=n.length-4;s(n,i)!=101010256;)i--;p=i,p+=4;var r=c(n,p+=4);c(n,p+=2);var a=s(n,p+=2),d=s(n,p+=4);p+=4,p=d;for(var U=0;U<r;U++){s(n,p),p+=4,p+=4,p+=4,s(n,p+=4),a=s(n,p+=4);var _=s(n,p+=4),b=c(n,p+=4),T=c(n,p+2),L=c(n,p+4);p+=6;var x=s(n,p+=8);p+=4,p+=b+T+L,h._readLocal(n,x,y,a,_,t)}return y},h._readLocal=function(e,t,c,s,p,y){var n=h.bin.readUshort,i=h.bin.readUint;i(e,t),n(e,t+=4),n(e,t+=2);var r=n(e,t+=2);i(e,t+=2),i(e,t+=4),t+=4;var a=n(e,t+=8),d=n(e,t+=2);t+=2;var U=h.bin.readUTF8(e,t,a);if(t+=a,t+=d,y)c[U]={size:p,csize:s};else{var _=new Uint8Array(e.buffer,t);if(r==0)c[U]=new Uint8Array(_.buffer.slice(t,t+s));else{if(r!=8)throw"unknown compression method: "+r;var b=new Uint8Array(p);h.inflateRaw(_,b),c[U]=b}}},h.inflateRaw=function(e,t){return h.F.inflate(e,t)},h.inflate=function(e,t){return e[0],e[1],h.inflateRaw(new Uint8Array(e.buffer,e.byteOffset+2,e.length-6),t)},h.deflate=function(e,t){t==null&&(t={level:6});var c=0,s=new Uint8Array(50+Math.floor(1.1*e.length));s[c]=120,s[c+1]=156,c+=2,c=h.F.deflateRaw(e,s,c,t.level);var p=h.adler(e,0,e.length);return s[c+0]=p>>>24&255,s[c+1]=p>>>16&255,s[c+2]=p>>>8&255,s[c+3]=p>>>0&255,new Uint8Array(s.buffer,0,c+4)},h.deflateRaw=function(e,t){t==null&&(t={level:6});var c=new Uint8Array(50+Math.floor(1.1*e.length)),s=h.F.deflateRaw(e,c,s,t.level);return new Uint8Array(c.buffer,0,s)},h.encode=function(e,t){t==null&&(t=!1);var c=0,s=h.bin.writeUint,p=h.bin.writeUshort,y={};for(var n in e){var i=!h._noNeed(n)&&!t,r=e[n],a=h.crc.crc(r,0,r.length);y[n]={cpr:i,usize:r.length,crc:a,file:i?h.deflateRaw(r):r}}for(var n in y)c+=y[n].file.length+30+46+2*h.bin.sizeUTF8(n);c+=22;var d=new Uint8Array(c),U=0,_=[];for(var n in y){var b=y[n];_.push(U),U=h._writeHeader(d,U,n,b,0)}var T=0,L=U;for(var n in y)b=y[n],_.push(U),U=h._writeHeader(d,U,n,b,1,_[T++]);var x=U-L;return s(d,U,101010256),U+=4,p(d,U+=4,T),p(d,U+=2,T),s(d,U+=2,x),s(d,U+=4,L),U+=4,U+=2,d.buffer},h._noNeed=function(e){var t=e.split(".").pop().toLowerCase();return"png,jpg,jpeg,zip".indexOf(t)!=-1},h._writeHeader=function(e,t,c,s,p,y){var n=h.bin.writeUint,i=h.bin.writeUshort,r=s.file;return n(e,t,p==0?67324752:33639248),t+=4,p==1&&(t+=2),i(e,t,20),i(e,t+=2,0),i(e,t+=2,s.cpr?8:0),n(e,t+=2,0),n(e,t+=4,s.crc),n(e,t+=4,r.length),n(e,t+=4,s.usize),i(e,t+=4,h.bin.sizeUTF8(c)),i(e,t+=2,0),t+=2,p==1&&(t+=2,t+=2,n(e,t+=6,y),t+=4),t+=h.bin.writeUTF8(e,t,c),p==0&&(e.set(r,t),t+=r.length),t},h.crc={table:function(){for(var e=new Uint32Array(256),t=0;t<256;t++){for(var c=t,s=0;s<8;s++)1&c?c=3988292384^c>>>1:c>>>=1;e[t]=c}return e}(),update:function(e,t,c,s){for(var p=0;p<s;p++)e=h.crc.table[255&(e^t[c+p])]^e>>>8;return e},crc:function(e,t,c){return 4294967295^h.crc.update(4294967295,e,t,c)}},h.adler=function(e,t,c){for(var s=1,p=0,y=t,n=t+c;y<n;){for(var i=Math.min(y+5552,n);y<i;)p+=s+=e[y++];s%=65521,p%=65521}return p<<16|s},h.bin={readUshort:function(e,t){return e[t]|e[t+1]<<8},writeUshort:function(e,t,c){e[t]=255&c,e[t+1]=c>>8&255},readUint:function(e,t){return 16777216*e[t+3]+(e[t+2]<<16|e[t+1]<<8|e[t])},writeUint:function(e,t,c){e[t]=255&c,e[t+1]=c>>8&255,e[t+2]=c>>16&255,e[t+3]=c>>24&255},readASCII:function(e,t,c){for(var s="",p=0;p<c;p++)s+=String.fromCharCode(e[t+p]);return s},writeASCII:function(e,t,c){for(var s=0;s<c.length;s++)e[t+s]=c.charCodeAt(s)},pad:function(e){return e.length<2?"0"+e:e},readUTF8:function(e,t,c){for(var s,p="",y=0;y<c;y++)p+="%"+h.bin.pad(e[t+y].toString(16));try{s=decodeURIComponent(p)}catch{return h.bin.readASCII(e,t,c)}return s},writeUTF8:function(e,t,c){for(var s=c.length,p=0,y=0;y<s;y++){var n=c.charCodeAt(y);if(!(4294967168&n))e[t+p]=n,p++;else if(!(4294965248&n))e[t+p]=192|n>>6,e[t+p+1]=128|n>>0&63,p+=2;else if(!(4294901760&n))e[t+p]=224|n>>12,e[t+p+1]=128|n>>6&63,e[t+p+2]=128|n>>0&63,p+=3;else{if(4292870144&n)throw"e";e[t+p]=240|n>>18,e[t+p+1]=128|n>>12&63,e[t+p+2]=128|n>>6&63,e[t+p+3]=128|n>>0&63,p+=4}}return p},sizeUTF8:function(e){for(var t=e.length,c=0,s=0;s<t;s++){var p=e.charCodeAt(s);if(!(4294967168&p))c++;else if(!(4294965248&p))c+=2;else if(!(4294901760&p))c+=3;else{if(4292870144&p)throw"e";c+=4}}return c}},h.F={},h.F.deflateRaw=function(e,t,c,s){var p=[[0,0,0,0,0],[4,4,8,4,0],[4,5,16,8,0],[4,6,16,16,0],[4,10,16,32,0],[8,16,32,32,0],[8,16,128,128,0],[8,32,128,256,0],[32,128,258,1024,1],[32,258,258,4096,1]][s],y=h.F.U,n=h.F._goodIndex;h.F._hash;var i=h.F._putsE,r=0,a=c<<3,d=0,U=e.length;if(s==0){for(;r<U;)i(t,a,r+(A=Math.min(65535,U-r))==U?1:0),a=h.F._copyExact(e,r,A,t,a+8),r+=A;return a>>>3}var _=y.lits,b=y.strt,T=y.prev,L=0,x=0,M=0,g=0,R=0,l=0;for(U>2&&(b[l=h.F._hash(e,0)]=0),r=0;r<U;r++){if(R=l,r+1<U-2){l=h.F._hash(e,r+1);var f=r+1&32767;T[f]=b[l],b[l]=f}if(d<=r){(L>14e3||x>26697)&&U-r>100&&(d<r&&(_[L]=r-d,L+=2,d=r),a=h.F._writeBlock(r==U-1||d==U?1:0,_,L,g,e,M,r-M,t,a),L=x=g=0,M=r);var m=0;r<U-2&&(m=h.F._bestMatch(e,r,T,R,Math.min(p[2],U-r),p[3]));var A=m>>>16,w=65535&m;if(m!=0){w=65535&m;var F=n(A=m>>>16,y.of0);y.lhst[257+F]++;var v=n(w,y.df0);y.dhst[v]++,g+=y.exb[F]+y.dxb[v],_[L]=A<<23|r-d,_[L+1]=w<<16|F<<8|v,L+=2,d=r+A}else y.lhst[e[r]]++;x++}}for(M==r&&e.length!=0||(d<r&&(_[L]=r-d,L+=2,d=r),a=h.F._writeBlock(1,_,L,g,e,M,r-M,t,a),L=0,x=0,L=x=g=0,M=r);7&a;)a++;return a>>>3},h.F._bestMatch=function(e,t,c,s,p,y){var n=32767&t,i=c[n],r=n-i+32768&32767;if(i==n||s!=h.F._hash(e,t-r))return 0;for(var a=0,d=0,U=Math.min(32767,t);r<=U&&--y!=0&&i!=n;){if(a==0||e[t+a]==e[t+a-r]){var _=h.F._howLong(e,t,r);if(_>a){if(d=r,(a=_)>=p)break;r+2<_&&(_=r+2);for(var b=0,T=0;T<_-2;T++){var L=t-r+T+32768&32767,x=L-c[L]+32768&32767;x>b&&(b=x,i=L)}}}r+=(n=i)-(i=c[n])+32768&32767}return a<<16|d},h.F._howLong=function(e,t,c){if(e[t]!=e[t-c]||e[t+1]!=e[t+1-c]||e[t+2]!=e[t+2-c])return 0;var s=t,p=Math.min(e.length,t+258);for(t+=3;t<p&&e[t]==e[t-c];)t++;return t-s},h.F._hash=function(e,t){return(e[t]<<8|e[t+1])+(e[t+2]<<4)&65535},h.saved=0,h.F._writeBlock=function(e,t,c,s,p,y,n,i,r){var a,d,U,_,b,T,L,x,M,g=h.F.U,R=h.F._putsF,l=h.F._putsE;g.lhst[256]++,d=(a=h.F.getTrees())[0],U=a[1],_=a[2],b=a[3],T=a[4],L=a[5],x=a[6],M=a[7];var f=32+(r+3&7?8-(r+3&7):0)+(n<<3),m=s+h.F.contSize(g.fltree,g.lhst)+h.F.contSize(g.fdtree,g.dhst),A=s+h.F.contSize(g.ltree,g.lhst)+h.F.contSize(g.dtree,g.dhst);A+=14+3*L+h.F.contSize(g.itree,g.ihst)+(2*g.ihst[16]+3*g.ihst[17]+7*g.ihst[18]);for(var w=0;w<286;w++)g.lhst[w]=0;for(w=0;w<30;w++)g.dhst[w]=0;for(w=0;w<19;w++)g.ihst[w]=0;var F=f<m&&f<A?0:m<A?1:2;if(R(i,r,e),R(i,r+1,F),r+=3,F==0){for(;7&r;)r++;r=h.F._copyExact(p,y,n,i,r)}else{var v,C;if(F==1&&(v=g.fltree,C=g.fdtree),F==2){h.F.makeCodes(g.ltree,d),h.F.revCodes(g.ltree,d),h.F.makeCodes(g.dtree,U),h.F.revCodes(g.dtree,U),h.F.makeCodes(g.itree,_),h.F.revCodes(g.itree,_),v=g.ltree,C=g.dtree,l(i,r,b-257),l(i,r+=5,T-1),l(i,r+=5,L-4),r+=4;for(var u=0;u<L;u++)l(i,r+3*u,g.itree[1+(g.ordr[u]<<1)]);r+=3*L,r=h.F._codeTiny(x,g.itree,i,r),r=h.F._codeTiny(M,g.itree,i,r)}for(var o=y,P=0;P<c;P+=2){for(var I=t[P],j=I>>>23,W=o+(8388607&I);o<W;)r=h.F._writeLit(p[o++],v,i,r);if(j!=0){var H=t[P+1],B=H>>16,D=H>>8&255,k=255&H;l(i,r=h.F._writeLit(257+D,v,i,r),j-g.of0[D]),r+=g.exb[D],R(i,r=h.F._writeLit(k,C,i,r),B-g.df0[k]),r+=g.dxb[k],o+=j}}r=h.F._writeLit(256,v,i,r)}return r},h.F._copyExact=function(e,t,c,s,p){var y=p>>>3;return s[y]=c,s[y+1]=c>>>8,s[y+2]=255-s[y],s[y+3]=255-s[y+1],y+=4,s.set(new Uint8Array(e.buffer,t,c),y),p+(c+4<<3)},h.F.getTrees=function(){for(var e=h.F.U,t=h.F._hufTree(e.lhst,e.ltree,15),c=h.F._hufTree(e.dhst,e.dtree,15),s=[],p=h.F._lenCodes(e.ltree,s),y=[],n=h.F._lenCodes(e.dtree,y),i=0;i<s.length;i+=2)e.ihst[s[i]]++;for(i=0;i<y.length;i+=2)e.ihst[y[i]]++;for(var r=h.F._hufTree(e.ihst,e.itree,7),a=19;a>4&&e.itree[1+(e.ordr[a-1]<<1)]==0;)a--;return[t,c,r,p,n,a,s,y]},h.F.getSecond=function(e){for(var t=[],c=0;c<e.length;c+=2)t.push(e[c+1]);return t},h.F.nonZero=function(e){for(var t="",c=0;c<e.length;c+=2)e[c+1]!=0&&(t+=(c>>1)+",");return t},h.F.contSize=function(e,t){for(var c=0,s=0;s<t.length;s++)c+=t[s]*e[1+(s<<1)];return c},h.F._codeTiny=function(e,t,c,s){for(var p=0;p<e.length;p+=2){var y=e[p],n=e[p+1];s=h.F._writeLit(y,t,c,s);var i=y==16?2:y==17?3:7;y>15&&(h.F._putsE(c,s,n,i),s+=i)}return s},h.F._lenCodes=function(e,t){for(var c=e.length;c!=2&&e[c-1]==0;)c-=2;for(var s=0;s<c;s+=2){var p=e[s+1],y=s+3<c?e[s+3]:-1,n=s+5<c?e[s+5]:-1,i=s==0?-1:e[s-1];if(p==0&&y==p&&n==p){for(var r=s+5;r+2<c&&e[r+2]==p;)r+=2;(a=Math.min(r+1-s>>>1,138))<11?t.push(17,a-3):t.push(18,a-11),s+=2*a-2}else if(p==i&&y==p&&n==p){for(r=s+5;r+2<c&&e[r+2]==p;)r+=2;var a=Math.min(r+1-s>>>1,6);t.push(16,a-3),s+=2*a-2}else t.push(p,0)}return c>>>1},h.F._hufTree=function(e,t,c){var s=[],p=e.length,y=t.length,n=0;for(n=0;n<y;n+=2)t[n]=0,t[n+1]=0;for(n=0;n<p;n++)e[n]!=0&&s.push({lit:n,f:e[n]});var i=s.length,r=s.slice(0);if(i==0)return 0;if(i==1){var a=s[0].lit;return r=a==0?1:0,t[1+(a<<1)]=1,t[1+(r<<1)]=1,1}s.sort(function(x,M){return x.f-M.f});var d=s[0],U=s[1],_=0,b=1,T=2;for(s[0]={lit:-1,f:d.f+U.f,l:d,r:U,d:0};b!=i-1;)d=_!=b&&(T==i||s[_].f<s[T].f)?s[_++]:s[T++],U=_!=b&&(T==i||s[_].f<s[T].f)?s[_++]:s[T++],s[b++]={lit:-1,f:d.f+U.f,l:d,r:U};var L=h.F.setDepth(s[b-1],0);for(L>c&&(h.F.restrictDepth(r,c,L),L=c),n=0;n<i;n++)t[1+(r[n].lit<<1)]=r[n].d;return L},h.F.setDepth=function(e,t){return e.lit!=-1?(e.d=t,t):Math.max(h.F.setDepth(e.l,t+1),h.F.setDepth(e.r,t+1))},h.F.restrictDepth=function(e,t,c){var s=0,p=1<<c-t,y=0;for(e.sort(function(i,r){return r.d==i.d?i.f-r.f:r.d-i.d}),s=0;s<e.length&&e[s].d>t;s++){var n=e[s].d;e[s].d=t,y+=p-(1<<c-n)}for(y>>>=c-t;y>0;)(n=e[s].d)<t?(e[s].d++,y-=1<<t-n-1):s++;for(;s>=0;s--)e[s].d==t&&y<0&&(e[s].d--,y++);y!=0&&console.log("debt left")},h.F._goodIndex=function(e,t){var c=0;return t[16|c]<=e&&(c|=16),t[8|c]<=e&&(c|=8),t[4|c]<=e&&(c|=4),t[2|c]<=e&&(c|=2),t[1|c]<=e&&(c|=1),c},h.F._writeLit=function(e,t,c,s){return h.F._putsF(c,s,t[e<<1]),s+t[1+(e<<1)]},h.F.inflate=function(e,t){var c=Uint8Array;if(e[0]==3&&e[1]==0)return t||new c(0);var s=h.F,p=s._bitsF,y=s._bitsE,n=s._decodeTiny,i=s.makeCodes,r=s.codes2map,a=s._get17,d=s.U,U=t==null;U&&(t=new c(e.length>>>2<<3));for(var _,b,T=0,L=0,x=0,M=0,g=0,R=0,l=0,f=0,m=0;T==0;)if(T=p(e,m,1),L=p(e,m+1,2),m+=3,L!=0){if(U&&(t=h.F._check(t,f+(1<<17))),L==1&&(_=d.flmap,b=d.fdmap,R=511,l=31),L==2){x=y(e,m,5)+257,M=y(e,m+5,5)+1,g=y(e,m+10,4)+4,m+=14;for(var A=0;A<38;A+=2)d.itree[A]=0,d.itree[A+1]=0;var w=1;for(A=0;A<g;A++){var F=y(e,m+3*A,3);d.itree[1+(d.ordr[A]<<1)]=F,F>w&&(w=F)}m+=3*g,i(d.itree,w),r(d.itree,w,d.imap),_=d.lmap,b=d.dmap,m=n(d.imap,(1<<w)-1,x+M,e,m,d.ttree);var v=s._copyOut(d.ttree,0,x,d.ltree);R=(1<<v)-1;var C=s._copyOut(d.ttree,x,M,d.dtree);l=(1<<C)-1,i(d.ltree,v),r(d.ltree,v,_),i(d.dtree,C),r(d.dtree,C,b)}for(;;){var u=_[a(e,m)&R];m+=15&u;var o=u>>>4;if(!(o>>>8))t[f++]=o;else{if(o==256)break;var P=f+o-254;if(o>264){var I=d.ldef[o-257];P=f+(I>>>3)+y(e,m,7&I),m+=7&I}var j=b[a(e,m)&l];m+=15&j;var W=j>>>4,H=d.ddef[W],B=(H>>>4)+p(e,m,15&H);for(m+=15&H,U&&(t=h.F._check(t,f+(1<<17)));f<P;)t[f]=t[f++-B],t[f]=t[f++-B],t[f]=t[f++-B],t[f]=t[f++-B];f=P}}}else{7&m&&(m+=8-(7&m));var D=4+(m>>>3),k=e[D-4]|e[D-3]<<8;U&&(t=h.F._check(t,f+k)),t.set(new c(e.buffer,e.byteOffset+D,k),f),m=D+k<<3,f+=k}return t.length==f?t:t.slice(0,f)},h.F._check=function(e,t){var c=e.length;if(t<=c)return e;var s=new Uint8Array(Math.max(c<<1,t));return s.set(e,0),s},h.F._decodeTiny=function(e,t,c,s,p,y){for(var n=h.F._bitsE,i=h.F._get17,r=0;r<c;){var a=e[i(s,p)&t];p+=15&a;var d=a>>>4;if(d<=15)y[r]=d,r++;else{var U=0,_=0;d==16?(_=3+n(s,p,2),p+=2,U=y[r-1]):d==17?(_=3+n(s,p,3),p+=3):d==18&&(_=11+n(s,p,7),p+=7);for(var b=r+_;r<b;)y[r]=U,r++}}return p},h.F._copyOut=function(e,t,c,s){for(var p=0,y=0,n=s.length>>>1;y<c;){var i=e[y+t];s[y<<1]=0,s[1+(y<<1)]=i,i>p&&(p=i),y++}for(;y<n;)s[y<<1]=0,s[1+(y<<1)]=0,y++;return p},h.F.makeCodes=function(e,t){for(var c,s,p,y,n=h.F.U,i=e.length,r=n.bl_count,a=0;a<=t;a++)r[a]=0;for(a=1;a<i;a+=2)r[e[a]]++;var d=n.next_code;for(c=0,r[0]=0,s=1;s<=t;s++)c=c+r[s-1]<<1,d[s]=c;for(p=0;p<i;p+=2)(y=e[p+1])!=0&&(e[p]=d[y],d[y]++)},h.F.codes2map=function(e,t,c){for(var s=e.length,p=h.F.U.rev15,y=0;y<s;y+=2)if(e[y+1]!=0)for(var n=y>>1,i=e[y+1],r=n<<4|i,a=t-i,d=e[y]<<a,U=d+(1<<a);d!=U;)c[p[d]>>>15-t]=r,d++},h.F.revCodes=function(e,t){for(var c=h.F.U.rev15,s=15-t,p=0;p<e.length;p+=2){var y=e[p]<<t-e[p+1];e[p]=c[y]>>>s}},h.F._putsE=function(e,t,c){c<<=7&t;var s=t>>>3;e[s]|=c,e[s+1]|=c>>>8},h.F._putsF=function(e,t,c){c<<=7&t;var s=t>>>3;e[s]|=c,e[s+1]|=c>>>8,e[s+2]|=c>>>16},h.F._bitsE=function(e,t,c){return(e[t>>>3]|e[1+(t>>>3)]<<8)>>>(7&t)&(1<<c)-1},h.F._bitsF=function(e,t,c){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)&(1<<c)-1},h.F._get17=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16)>>>(7&t)},h.F._get25=function(e,t){return(e[t>>>3]|e[1+(t>>>3)]<<8|e[2+(t>>>3)]<<16|e[3+(t>>>3)]<<24)>>>(7&t)},h.F.U=(S=Uint16Array,O=Uint32Array,{next_code:new S(16),bl_count:new S(16),ordr:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],of0:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],exb:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],ldef:new S(32),df0:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],dxb:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],ddef:new O(32),flmap:new S(512),fltree:[],fdmap:new S(32),fdtree:[],lmap:new S(32768),ltree:[],ttree:[],dmap:new S(32768),dtree:[],imap:new S(512),itree:[],rev15:new S(32768),lhst:new O(286),dhst:new O(30),ihst:new O(19),lits:new O(15e3),strt:new S(65536),prev:new S(32768)}),function(){for(var e=h.F.U,t=0;t<32768;t++){var c=t;c=(4278255360&(c=(4042322160&(c=(3435973836&(c=(2863311530&c)>>>1|(1431655765&c)<<1))>>>2|(858993459&c)<<2))>>>4|(252645135&c)<<4))>>>8|(16711935&c)<<8,e.rev15[t]=(c>>>16|c<<16)>>>17}function s(p,y,n){for(;y--!=0;)p.push(0,n)}for(t=0;t<32;t++)e.ldef[t]=e.of0[t]<<3|e.exb[t],e.ddef[t]=e.df0[t]<<4|e.dxb[t];s(e.fltree,144,8),s(e.fltree,112,9),s(e.fltree,24,7),s(e.fltree,8,8),h.F.makeCodes(e.fltree,9),h.F.codes2map(e.fltree,9,e.flmap),h.F.revCodes(e.fltree,9),s(e.fdtree,32,5),h.F.makeCodes(e.fdtree,5),h.F.codes2map(e.fdtree,5,e.fdmap),h.F.revCodes(e.fdtree,5),s(e.itree,19,0),s(e.ltree,286,0),s(e.dtree,30,0),s(e.ttree,320,0)}()})();var nn=Jt({__proto__:null,default:Ne},[Ne]);const pe=function(){var E={nextZero(n,i){for(;n[i]!=0;)i++;return i},readUshort:(n,i)=>n[i]<<8|n[i+1],writeUshort(n,i,r){n[i]=r>>8&255,n[i+1]=255&r},readUint:(n,i)=>16777216*n[i]+(n[i+1]<<16|n[i+2]<<8|n[i+3]),writeUint(n,i,r){n[i]=r>>24&255,n[i+1]=r>>16&255,n[i+2]=r>>8&255,n[i+3]=255&r},readASCII(n,i,r){let a="";for(let d=0;d<r;d++)a+=String.fromCharCode(n[i+d]);return a},writeASCII(n,i,r){for(let a=0;a<r.length;a++)n[i+a]=r.charCodeAt(a)},readBytes(n,i,r){const a=[];for(let d=0;d<r;d++)a.push(n[i+d]);return a},pad:n=>n.length<2?`0${n}`:n,readUTF8(n,i,r){let a,d="";for(let U=0;U<r;U++)d+=`%${E.pad(n[i+U].toString(16))}`;try{a=decodeURIComponent(d)}catch{return E.readASCII(n,i,r)}return a}};function S(n,i,r,a){const d=i*r,U=t(a),_=Math.ceil(i*U/8),b=new Uint8Array(4*d),T=new Uint32Array(b.buffer),{ctype:L}=a,{depth:x}=a,M=E.readUshort;if(L==6){const I=d<<2;if(x==8)for(var g=0;g<I;g+=4)b[g]=n[g],b[g+1]=n[g+1],b[g+2]=n[g+2],b[g+3]=n[g+3];if(x==16)for(g=0;g<I;g++)b[g]=n[g<<1]}else if(L==2){const I=a.tabs.tRNS;if(I==null){if(x==8)for(g=0;g<d;g++){var R=3*g;T[g]=255<<24|n[R+2]<<16|n[R+1]<<8|n[R]}if(x==16)for(g=0;g<d;g++)R=6*g,T[g]=255<<24|n[R+4]<<16|n[R+2]<<8|n[R]}else{var l=I[0];const j=I[1],W=I[2];if(x==8)for(g=0;g<d;g++){var f=g<<2;R=3*g,T[g]=255<<24|n[R+2]<<16|n[R+1]<<8|n[R],n[R]==l&&n[R+1]==j&&n[R+2]==W&&(b[f+3]=0)}if(x==16)for(g=0;g<d;g++)f=g<<2,R=6*g,T[g]=255<<24|n[R+4]<<16|n[R+2]<<8|n[R],M(n,R)==l&&M(n,R+2)==j&&M(n,R+4)==W&&(b[f+3]=0)}}else if(L==3){const I=a.tabs.PLTE,j=a.tabs.tRNS,W=j?j.length:0;if(x==1)for(var m=0;m<r;m++){var A=m*_,w=m*i;for(g=0;g<i;g++){f=w+g<<2;var F=3*(v=n[A+(g>>3)]>>7-((7&g)<<0)&1);b[f]=I[F],b[f+1]=I[F+1],b[f+2]=I[F+2],b[f+3]=v<W?j[v]:255}}if(x==2)for(m=0;m<r;m++)for(A=m*_,w=m*i,g=0;g<i;g++)f=w+g<<2,F=3*(v=n[A+(g>>2)]>>6-((3&g)<<1)&3),b[f]=I[F],b[f+1]=I[F+1],b[f+2]=I[F+2],b[f+3]=v<W?j[v]:255;if(x==4)for(m=0;m<r;m++)for(A=m*_,w=m*i,g=0;g<i;g++)f=w+g<<2,F=3*(v=n[A+(g>>1)]>>4-((1&g)<<2)&15),b[f]=I[F],b[f+1]=I[F+1],b[f+2]=I[F+2],b[f+3]=v<W?j[v]:255;if(x==8)for(g=0;g<d;g++){var v;f=g<<2,F=3*(v=n[g]),b[f]=I[F],b[f+1]=I[F+1],b[f+2]=I[F+2],b[f+3]=v<W?j[v]:255}}else if(L==4){if(x==8)for(g=0;g<d;g++){f=g<<2;var C=n[u=g<<1];b[f]=C,b[f+1]=C,b[f+2]=C,b[f+3]=n[u+1]}if(x==16)for(g=0;g<d;g++){var u;f=g<<2,C=n[u=g<<2],b[f]=C,b[f+1]=C,b[f+2]=C,b[f+3]=n[u+2]}}else if(L==0)for(l=a.tabs.tRNS?a.tabs.tRNS:-1,m=0;m<r;m++){const I=m*_,j=m*i;if(x==1)for(var o=0;o<i;o++){var P=(C=255*(n[I+(o>>>3)]>>>7-(7&o)&1))==255*l?0:255;T[j+o]=P<<24|C<<16|C<<8|C}else if(x==2)for(o=0;o<i;o++)P=(C=85*(n[I+(o>>>2)]>>>6-((3&o)<<1)&3))==85*l?0:255,T[j+o]=P<<24|C<<16|C<<8|C;else if(x==4)for(o=0;o<i;o++)P=(C=17*(n[I+(o>>>1)]>>>4-((1&o)<<2)&15))==17*l?0:255,T[j+o]=P<<24|C<<16|C<<8|C;else if(x==8)for(o=0;o<i;o++)P=(C=n[I+o])==l?0:255,T[j+o]=P<<24|C<<16|C<<8|C;else if(x==16)for(o=0;o<i;o++)C=n[I+(o<<1)],P=M(n,I+(o<<1))==l?0:255,T[j+o]=P<<24|C<<16|C<<8|C}return b}function O(n,i,r,a){const d=t(n),U=Math.ceil(r*d/8),_=new Uint8Array((U+1+n.interlace)*a);return i=n.tabs.CgBI?e(i,_):h(i,_),n.interlace==0?i=c(i,n,0,r,a):n.interlace==1&&(i=function(T,L){const x=L.width,M=L.height,g=t(L),R=g>>3,l=Math.ceil(x*g/8),f=new Uint8Array(M*l);let m=0;const A=[0,0,4,0,2,0,1],w=[0,4,0,2,0,1,0],F=[8,8,8,4,4,2,2],v=[8,8,4,4,2,2,1];let C=0;for(;C<7;){const o=F[C],P=v[C];let I=0,j=0,W=A[C];for(;W<M;)W+=o,j++;let H=w[C];for(;H<x;)H+=P,I++;const B=Math.ceil(I*g/8);c(T,L,m,I,j);let D=0,k=A[C];for(;k<M;){let q=w[C],Z=m+D*B<<3;for(;q<x;){var u;if(g==1&&(u=(u=T[Z>>3])>>7-(7&Z)&1,f[k*l+(q>>3)]|=u<<7-((7&q)<<0)),g==2&&(u=(u=T[Z>>3])>>6-(7&Z)&3,f[k*l+(q>>2)]|=u<<6-((3&q)<<1)),g==4&&(u=(u=T[Z>>3])>>4-(7&Z)&15,f[k*l+(q>>1)]|=u<<4-((1&q)<<2)),g>=8){const Q=k*l+q*R;for(let N=0;N<R;N++)f[Q+N]=T[(Z>>3)+N]}Z+=g,q+=P}D++,k+=o}I*j!=0&&(m+=j*(1+B)),C+=1}return f}(i,n)),i}function h(n,i){return e(new Uint8Array(n.buffer,2,n.length-6),i)}var e=function(){const n={H:{}};return n.H.N=function(i,r){const a=Uint8Array;let d,U,_=0,b=0,T=0,L=0,x=0,M=0,g=0,R=0,l=0;if(i[0]==3&&i[1]==0)return r||new a(0);const f=n.H,m=f.b,A=f.e,w=f.R,F=f.n,v=f.A,C=f.Z,u=f.m,o=r==null;for(o&&(r=new a(i.length>>>2<<5));_==0;)if(_=m(i,l,1),b=m(i,l+1,2),l+=3,b!=0){if(o&&(r=n.H.W(r,R+(1<<17))),b==1&&(d=u.J,U=u.h,M=511,g=31),b==2){T=A(i,l,5)+257,L=A(i,l+5,5)+1,x=A(i,l+10,4)+4,l+=14;let I=1;for(var P=0;P<38;P+=2)u.Q[P]=0,u.Q[P+1]=0;for(P=0;P<x;P++){const H=A(i,l+3*P,3);u.Q[1+(u.X[P]<<1)]=H,H>I&&(I=H)}l+=3*x,F(u.Q,I),v(u.Q,I,u.u),d=u.w,U=u.d,l=w(u.u,(1<<I)-1,T+L,i,l,u.v);const j=f.V(u.v,0,T,u.C);M=(1<<j)-1;const W=f.V(u.v,T,L,u.D);g=(1<<W)-1,F(u.C,j),v(u.C,j,d),F(u.D,W),v(u.D,W,U)}for(;;){const I=d[C(i,l)&M];l+=15&I;const j=I>>>4;if(!(j>>>8))r[R++]=j;else{if(j==256)break;{let W=R+j-254;if(j>264){const q=u.q[j-257];W=R+(q>>>3)+A(i,l,7&q),l+=7&q}const H=U[C(i,l)&g];l+=15&H;const B=H>>>4,D=u.c[B],k=(D>>>4)+m(i,l,15&D);for(l+=15&D;R<W;)r[R]=r[R++-k],r[R]=r[R++-k],r[R]=r[R++-k],r[R]=r[R++-k];R=W}}}}else{7&l&&(l+=8-(7&l));const I=4+(l>>>3),j=i[I-4]|i[I-3]<<8;o&&(r=n.H.W(r,R+j)),r.set(new a(i.buffer,i.byteOffset+I,j),R),l=I+j<<3,R+=j}return r.length==R?r:r.slice(0,R)},n.H.W=function(i,r){const a=i.length;if(r<=a)return i;const d=new Uint8Array(a<<1);return d.set(i,0),d},n.H.R=function(i,r,a,d,U,_){const b=n.H.e,T=n.H.Z;let L=0;for(;L<a;){const x=i[T(d,U)&r];U+=15&x;const M=x>>>4;if(M<=15)_[L]=M,L++;else{let g=0,R=0;M==16?(R=3+b(d,U,2),U+=2,g=_[L-1]):M==17?(R=3+b(d,U,3),U+=3):M==18&&(R=11+b(d,U,7),U+=7);const l=L+R;for(;L<l;)_[L]=g,L++}}return U},n.H.V=function(i,r,a,d){let U=0,_=0;const b=d.length>>>1;for(;_<a;){const T=i[_+r];d[_<<1]=0,d[1+(_<<1)]=T,T>U&&(U=T),_++}for(;_<b;)d[_<<1]=0,d[1+(_<<1)]=0,_++;return U},n.H.n=function(i,r){const a=n.H.m,d=i.length;let U,_,b,T;const L=a.j;for(var x=0;x<=r;x++)L[x]=0;for(x=1;x<d;x+=2)L[i[x]]++;const M=a.K;for(U=0,L[0]=0,_=1;_<=r;_++)U=U+L[_-1]<<1,M[_]=U;for(b=0;b<d;b+=2)T=i[b+1],T!=0&&(i[b]=M[T],M[T]++)},n.H.A=function(i,r,a){const d=i.length,U=n.H.m.r;for(let _=0;_<d;_+=2)if(i[_+1]!=0){const b=_>>1,T=i[_+1],L=b<<4|T,x=r-T;let M=i[_]<<x;const g=M+(1<<x);for(;M!=g;)a[U[M]>>>15-r]=L,M++}},n.H.l=function(i,r){const a=n.H.m.r,d=15-r;for(let U=0;U<i.length;U+=2){const _=i[U]<<r-i[U+1];i[U]=a[_]>>>d}},n.H.M=function(i,r,a){a<<=7&r;const d=r>>>3;i[d]|=a,i[d+1]|=a>>>8},n.H.I=function(i,r,a){a<<=7&r;const d=r>>>3;i[d]|=a,i[d+1]|=a>>>8,i[d+2]|=a>>>16},n.H.e=function(i,r,a){return(i[r>>>3]|i[1+(r>>>3)]<<8)>>>(7&r)&(1<<a)-1},n.H.b=function(i,r,a){return(i[r>>>3]|i[1+(r>>>3)]<<8|i[2+(r>>>3)]<<16)>>>(7&r)&(1<<a)-1},n.H.Z=function(i,r){return(i[r>>>3]|i[1+(r>>>3)]<<8|i[2+(r>>>3)]<<16)>>>(7&r)},n.H.i=function(i,r){return(i[r>>>3]|i[1+(r>>>3)]<<8|i[2+(r>>>3)]<<16|i[3+(r>>>3)]<<24)>>>(7&r)},n.H.m=function(){const i=Uint16Array,r=Uint32Array;return{K:new i(16),j:new i(16),X:[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],S:[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,999,999,999],T:[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0],q:new i(32),p:[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,65535,65535],z:[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0],c:new r(32),J:new i(512),_:[],h:new i(32),$:[],w:new i(32768),C:[],v:[],d:new i(32768),D:[],u:new i(512),Q:[],r:new i(32768),s:new r(286),Y:new r(30),a:new r(19),t:new r(15e3),k:new i(65536),g:new i(32768)}}(),function(){const i=n.H.m;for(var r=0;r<32768;r++){let d=r;d=(2863311530&d)>>>1|(1431655765&d)<<1,d=(3435973836&d)>>>2|(858993459&d)<<2,d=(4042322160&d)>>>4|(252645135&d)<<4,d=(4278255360&d)>>>8|(16711935&d)<<8,i.r[r]=(d>>>16|d<<16)>>>17}function a(d,U,_){for(;U--!=0;)d.push(0,_)}for(r=0;r<32;r++)i.q[r]=i.S[r]<<3|i.T[r],i.c[r]=i.p[r]<<4|i.z[r];a(i._,144,8),a(i._,112,9),a(i._,24,7),a(i._,8,8),n.H.n(i._,9),n.H.A(i._,9,i.J),n.H.l(i._,9),a(i.$,32,5),n.H.n(i.$,5),n.H.A(i.$,5,i.h),n.H.l(i.$,5),a(i.Q,19,0),a(i.C,286,0),a(i.D,30,0),a(i.v,320,0)}(),n.H.N}();function t(n){return[1,null,3,1,2,null,4][n.ctype]*n.depth}function c(n,i,r,a,d){let U=t(i);const _=Math.ceil(a*U/8);let b,T;U=Math.ceil(U/8);let L=n[r],x=0;if(L>1&&(n[r]=[0,0,1][L-2]),L==3)for(x=U;x<_;x++)n[x+1]=n[x+1]+(n[x+1-U]>>>1)&255;for(let M=0;M<d;M++)if(b=r+M*_,T=b+M+1,L=n[T-1],x=0,L==0)for(;x<_;x++)n[b+x]=n[T+x];else if(L==1){for(;x<U;x++)n[b+x]=n[T+x];for(;x<_;x++)n[b+x]=n[T+x]+n[b+x-U]}else if(L==2)for(;x<_;x++)n[b+x]=n[T+x]+n[b+x-_];else if(L==3){for(;x<U;x++)n[b+x]=n[T+x]+(n[b+x-_]>>>1);for(;x<_;x++)n[b+x]=n[T+x]+(n[b+x-_]+n[b+x-U]>>>1)}else{for(;x<U;x++)n[b+x]=n[T+x]+s(0,n[b+x-_],0);for(;x<_;x++)n[b+x]=n[T+x]+s(n[b+x-U],n[b+x-_],n[b+x-U-_])}return n}function s(n,i,r){const a=n+i-r,d=a-n,U=a-i,_=a-r;return d*d<=U*U&&d*d<=_*_?n:U*U<=_*_?i:r}function p(n,i,r){r.width=E.readUint(n,i),i+=4,r.height=E.readUint(n,i),i+=4,r.depth=n[i],i++,r.ctype=n[i],i++,r.compress=n[i],i++,r.filter=n[i],i++,r.interlace=n[i],i++}function y(n,i,r,a,d,U,_,b,T){const L=Math.min(i,d),x=Math.min(r,U);let M=0,g=0;for(let C=0;C<x;C++)for(let u=0;u<L;u++)if(_>=0&&b>=0?(M=C*i+u<<2,g=(b+C)*d+_+u<<2):(M=(-b+C)*i-_+u<<2,g=C*d+u<<2),T==0)a[g]=n[M],a[g+1]=n[M+1],a[g+2]=n[M+2],a[g+3]=n[M+3];else if(T==1){var R=n[M+3]*.00392156862745098,l=n[M]*R,f=n[M+1]*R,m=n[M+2]*R,A=a[g+3]*(1/255),w=a[g]*A,F=a[g+1]*A,v=a[g+2]*A;const o=1-R,P=R+A*o,I=P==0?0:1/P;a[g+3]=255*P,a[g+0]=(l+w*o)*I,a[g+1]=(f+F*o)*I,a[g+2]=(m+v*o)*I}else if(T==2)R=n[M+3],l=n[M],f=n[M+1],m=n[M+2],A=a[g+3],w=a[g],F=a[g+1],v=a[g+2],R==A&&l==w&&f==F&&m==v?(a[g]=0,a[g+1]=0,a[g+2]=0,a[g+3]=0):(a[g]=l,a[g+1]=f,a[g+2]=m,a[g+3]=R);else if(T==3){if(R=n[M+3],l=n[M],f=n[M+1],m=n[M+2],A=a[g+3],w=a[g],F=a[g+1],v=a[g+2],R==A&&l==w&&f==F&&m==v)continue;if(R<220&&A>20)return!1}return!0}return{decode:function(i){const r=new Uint8Array(i);let a=8;const d=E,U=d.readUshort,_=d.readUint,b={tabs:{},frames:[]},T=new Uint8Array(r.length);let L,x=0,M=0;const g=[137,80,78,71,13,10,26,10];for(var R=0;R<8;R++)if(r[R]!=g[R])throw"The input is not a PNG file!";for(;a<r.length;){const C=d.readUint(r,a);a+=4;const u=d.readASCII(r,a,4);if(a+=4,u=="IHDR")p(r,a,b);else if(u=="iCCP"){for(var l=a;r[l]!=0;)l++;d.readASCII(r,a,l-a),r[l+1];const o=r.slice(l+2,a+C);let P=null;try{P=h(o)}catch{P=e(o)}b.tabs[u]=P}else if(u=="CgBI")b.tabs[u]=r.slice(a,a+4);else if(u=="IDAT"){for(R=0;R<C;R++)T[x+R]=r[a+R];x+=C}else if(u=="acTL")b.tabs[u]={num_frames:_(r,a),num_plays:_(r,a+4)},L=new Uint8Array(r.length);else if(u=="fcTL"){M!=0&&((v=b.frames[b.frames.length-1]).data=O(b,L.slice(0,M),v.rect.width,v.rect.height),M=0);const o={x:_(r,a+12),y:_(r,a+16),width:_(r,a+4),height:_(r,a+8)};let P=U(r,a+22);P=U(r,a+20)/(P==0?100:P);const I={rect:o,delay:Math.round(1e3*P),dispose:r[a+24],blend:r[a+25]};b.frames.push(I)}else if(u=="fdAT"){for(R=0;R<C-4;R++)L[M+R]=r[a+R+4];M+=C-4}else if(u=="pHYs")b.tabs[u]=[d.readUint(r,a),d.readUint(r,a+4),r[a+8]];else if(u=="cHRM")for(b.tabs[u]=[],R=0;R<8;R++)b.tabs[u].push(d.readUint(r,a+4*R));else if(u=="tEXt"||u=="zTXt"){b.tabs[u]==null&&(b.tabs[u]={});var f=d.nextZero(r,a),m=d.readASCII(r,a,f-a),A=a+C-f-1;if(u=="tEXt")F=d.readASCII(r,f+1,A);else{var w=h(r.slice(f+2,f+2+A));F=d.readUTF8(w,0,w.length)}b.tabs[u][m]=F}else if(u=="iTXt"){b.tabs[u]==null&&(b.tabs[u]={}),f=0,l=a,f=d.nextZero(r,l),m=d.readASCII(r,l,f-l);const o=r[l=f+1];var F;r[l+1],l+=2,f=d.nextZero(r,l),d.readASCII(r,l,f-l),l=f+1,f=d.nextZero(r,l),d.readUTF8(r,l,f-l),A=C-((l=f+1)-a),o==0?F=d.readUTF8(r,l,A):(w=h(r.slice(l,l+A)),F=d.readUTF8(w,0,w.length)),b.tabs[u][m]=F}else if(u=="PLTE")b.tabs[u]=d.readBytes(r,a,C);else if(u=="hIST"){const o=b.tabs.PLTE.length/3;for(b.tabs[u]=[],R=0;R<o;R++)b.tabs[u].push(U(r,a+2*R))}else if(u=="tRNS")b.ctype==3?b.tabs[u]=d.readBytes(r,a,C):b.ctype==0?b.tabs[u]=U(r,a):b.ctype==2&&(b.tabs[u]=[U(r,a),U(r,a+2),U(r,a+4)]);else if(u=="gAMA")b.tabs[u]=d.readUint(r,a)/1e5;else if(u=="sRGB")b.tabs[u]=r[a];else if(u=="bKGD")b.ctype==0||b.ctype==4?b.tabs[u]=[U(r,a)]:b.ctype==2||b.ctype==6?b.tabs[u]=[U(r,a),U(r,a+2),U(r,a+4)]:b.ctype==3&&(b.tabs[u]=r[a]);else if(u=="IEND")break;a+=C,d.readUint(r,a),a+=4}var v;return M!=0&&((v=b.frames[b.frames.length-1]).data=O(b,L.slice(0,M),v.rect.width,v.rect.height)),b.data=O(b,T,b.width,b.height),delete b.compress,delete b.interlace,delete b.filter,b},toRGBA8:function(i){const r=i.width,a=i.height;if(i.tabs.acTL==null)return[S(i.data,r,a,i).buffer];const d=[];i.frames[0].data==null&&(i.frames[0].data=i.data);const U=r*a*4,_=new Uint8Array(U),b=new Uint8Array(U),T=new Uint8Array(U);for(let x=0;x<i.frames.length;x++){const M=i.frames[x],g=M.rect.x,R=M.rect.y,l=M.rect.width,f=M.rect.height,m=S(M.data,l,f,i);if(x!=0)for(var L=0;L<U;L++)T[L]=_[L];if(M.blend==0?y(m,l,f,_,r,a,g,R,0):M.blend==1&&y(m,l,f,_,r,a,g,R,1),d.push(_.buffer.slice(0)),M.dispose!=0){if(M.dispose==1)y(b,l,f,_,r,a,g,R,0);else if(M.dispose==2)for(L=0;L<U;L++)_[L]=T[L]}}return d},_paeth:s,_copyTile:y,_bin:E}}();(function(){const{_copyTile:E}=pe,{_bin:S}=pe,O=pe._paeth;var h={table:function(){const l=new Uint32Array(256);for(let f=0;f<256;f++){let m=f;for(let A=0;A<8;A++)1&m?m=3988292384^m>>>1:m>>>=1;l[f]=m}return l}(),update(l,f,m,A){for(let w=0;w<A;w++)l=h.table[255&(l^f[m+w])]^l>>>8;return l},crc:(l,f,m)=>4294967295^h.update(4294967295,l,f,m)};function e(l,f,m,A){f[m]+=l[0]*A>>4,f[m+1]+=l[1]*A>>4,f[m+2]+=l[2]*A>>4,f[m+3]+=l[3]*A>>4}function t(l){return Math.max(0,Math.min(255,l))}function c(l,f){const m=l[0]-f[0],A=l[1]-f[1],w=l[2]-f[2],F=l[3]-f[3];return m*m+A*A+w*w+F*F}function s(l,f,m,A,w,F,v){v==null&&(v=1);const C=A.length,u=[];for(var o=0;o<C;o++){const k=A[o];u.push([k>>>0&255,k>>>8&255,k>>>16&255,k>>>24&255])}for(o=0;o<C;o++){let k=4294967295;for(var P=0,I=0;I<C;I++){var j=c(u[o],u[I]);I!=o&&j<k&&(k=j,P=I)}}const W=new Uint32Array(w.buffer),H=new Int16Array(f*m*4),B=[0,8,2,10,12,4,14,6,3,11,1,9,15,7,13,5];for(o=0;o<B.length;o++)B[o]=255*((B[o]+.5)/16-.5);for(let k=0;k<m;k++)for(let q=0;q<f;q++){var D;o=4*(k*f+q),v!=2?D=[t(l[o]+H[o]),t(l[o+1]+H[o+1]),t(l[o+2]+H[o+2]),t(l[o+3]+H[o+3])]:(j=B[4*(3&k)+(3&q)],D=[t(l[o]+j),t(l[o+1]+j),t(l[o+2]+j),t(l[o+3]+j)]),P=0;let Z=16777215;for(I=0;I<C;I++){const G=c(D,u[I]);G<Z&&(Z=G,P=I)}const Q=u[P],N=[D[0]-Q[0],D[1]-Q[1],D[2]-Q[2],D[3]-Q[3]];v==1&&(q!=f-1&&e(N,H,o+4,7),k!=m-1&&(q!=0&&e(N,H,o+4*f-4,3),e(N,H,o+4*f,5),q!=f-1&&e(N,H,o+4*f+4,1))),F[o>>2]=P,W[o>>2]=A[P]}}function p(l,f,m,A,w){w==null&&(w={});const{crc:F}=h,v=S.writeUint,C=S.writeUshort,u=S.writeASCII;let o=8;const P=l.frames.length>1;let I,j=!1,W=33+(P?20:0);if(w.sRGB!=null&&(W+=13),w.pHYs!=null&&(W+=21),w.iCCP!=null&&(I=pako.deflate(w.iCCP),W+=21+I.length+4),l.ctype==3){for(var H=l.plte.length,B=0;B<H;B++)l.plte[B]>>>24!=255&&(j=!0);W+=8+3*H+4+(j?8+1*H+4:0)}for(var D=0;D<l.frames.length;D++)P&&(W+=38),W+=(Q=l.frames[D]).cimg.length+12,D!=0&&(W+=4);W+=12;const k=new Uint8Array(W),q=[137,80,78,71,13,10,26,10];for(B=0;B<8;B++)k[B]=q[B];if(v(k,o,13),o+=4,u(k,o,"IHDR"),o+=4,v(k,o,f),o+=4,v(k,o,m),o+=4,k[o]=l.depth,o++,k[o]=l.ctype,o++,k[o]=0,o++,k[o]=0,o++,k[o]=0,o++,v(k,o,F(k,o-17,17)),o+=4,w.sRGB!=null&&(v(k,o,1),o+=4,u(k,o,"sRGB"),o+=4,k[o]=w.sRGB,o++,v(k,o,F(k,o-5,5)),o+=4),w.iCCP!=null){const N=13+I.length;v(k,o,N),o+=4,u(k,o,"iCCP"),o+=4,u(k,o,"ICC profile"),o+=11,o+=2,k.set(I,o),o+=I.length,v(k,o,F(k,o-(N+4),N+4)),o+=4}if(w.pHYs!=null&&(v(k,o,9),o+=4,u(k,o,"pHYs"),o+=4,v(k,o,w.pHYs[0]),o+=4,v(k,o,w.pHYs[1]),o+=4,k[o]=w.pHYs[2],o++,v(k,o,F(k,o-13,13)),o+=4),P&&(v(k,o,8),o+=4,u(k,o,"acTL"),o+=4,v(k,o,l.frames.length),o+=4,v(k,o,w.loop!=null?w.loop:0),o+=4,v(k,o,F(k,o-12,12)),o+=4),l.ctype==3){for(v(k,o,3*(H=l.plte.length)),o+=4,u(k,o,"PLTE"),o+=4,B=0;B<H;B++){const N=3*B,G=l.plte[B],Y=255&G,ne=G>>>8&255,Ie=G>>>16&255;k[o+N+0]=Y,k[o+N+1]=ne,k[o+N+2]=Ie}if(o+=3*H,v(k,o,F(k,o-3*H-4,3*H+4)),o+=4,j){for(v(k,o,H),o+=4,u(k,o,"tRNS"),o+=4,B=0;B<H;B++)k[o+B]=l.plte[B]>>>24&255;o+=H,v(k,o,F(k,o-H-4,H+4)),o+=4}}let Z=0;for(D=0;D<l.frames.length;D++){var Q=l.frames[D];P&&(v(k,o,26),o+=4,u(k,o,"fcTL"),o+=4,v(k,o,Z++),o+=4,v(k,o,Q.rect.width),o+=4,v(k,o,Q.rect.height),o+=4,v(k,o,Q.rect.x),o+=4,v(k,o,Q.rect.y),o+=4,C(k,o,A[D]),o+=2,C(k,o,1e3),o+=2,k[o]=Q.dispose,o++,k[o]=Q.blend,o++,v(k,o,F(k,o-30,30)),o+=4);const N=Q.cimg;v(k,o,(H=N.length)+(D==0?0:4)),o+=4;const G=o;u(k,o,D==0?"IDAT":"fdAT"),o+=4,D!=0&&(v(k,o,Z++),o+=4),k.set(N,o),o+=H,v(k,o,F(k,G,o-G)),o+=4}return v(k,o,0),o+=4,u(k,o,"IEND"),o+=4,v(k,o,F(k,o-4,4)),o+=4,k.buffer}function y(l,f,m){for(let A=0;A<l.frames.length;A++){const w=l.frames[A];w.rect.width;const F=w.rect.height,v=new Uint8Array(F*w.bpl+F);w.cimg=a(w.img,F,w.bpp,w.bpl,v,f,m)}}function n(l,f,m,A,w){const F=w[0],v=w[1],C=w[2],u=w[3],o=w[4],P=w[5];let I=6,j=8,W=255;for(var H=0;H<l.length;H++){const ie=new Uint8Array(l[H]);for(var B=ie.length,D=0;D<B;D+=4)W&=ie[D+3]}const k=W!=255,q=function(K,$,re,se,ee,ce){const te=[];for(var V=0;V<K.length;V++){const le=new Uint8Array(K[V]),de=new Uint32Array(le.buffer);var ue;let he=0,ye=0,me=$,_e=re,Ze=se?1:0;if(V!=0){const Mt=ce||se||V==1||te[V-2].dispose!=0?1:2;let Ke=0,rt=1e9;for(let Pe=0;Pe<Mt;Pe++){var Ae=new Uint8Array(K[V-1-Pe]);const St=new Uint32Array(K[V-1-Pe]);let xe=$,Ue=re,Me=-1,je=-1;for(let Te=0;Te<re;Te++)for(let Ee=0;Ee<$;Ee++)de[oe=Te*$+Ee]!=St[oe]&&(Ee<xe&&(xe=Ee),Ee>Me&&(Me=Ee),Te<Ue&&(Ue=Te),Te>je&&(je=Te));Me==-1&&(xe=Ue=Me=je=0),ee&&((1&xe)==1&&xe--,(1&Ue)==1&&Ue--);const it=(Me-xe+1)*(je-Ue+1);it<rt&&(rt=it,Ke=Pe,he=xe,ye=Ue,me=Me-xe+1,_e=je-Ue+1)}Ae=new Uint8Array(K[V-1-Ke]),Ke==1&&(te[V-1].dispose=2),ue=new Uint8Array(me*_e*4),E(Ae,$,re,ue,me,_e,-he,-ye,0),Ze=E(le,$,re,ue,me,_e,-he,-ye,3)?1:0,Ze==1?r(le,$,re,ue,{x:he,y:ye,width:me,height:_e}):E(le,$,re,ue,me,_e,-he,-ye,0)}else ue=le.slice(0);te.push({rect:{x:he,y:ye,width:me,height:_e},img:ue,blend:Ze,dispose:0})}if(se)for(V=0;V<te.length;V++){if((Ce=te[V]).blend==1)continue;const le=Ce.rect,de=te[V-1].rect,he=Math.min(le.x,de.x),ye=Math.min(le.y,de.y),me={x:he,y:ye,width:Math.max(le.x+le.width,de.x+de.width)-he,height:Math.max(le.y+le.height,de.y+de.height)-ye};te[V-1].dispose=1,V-1!=0&&i(K,$,re,te,V-1,me,ee),i(K,$,re,te,V,me,ee)}let Be=0;if(K.length!=1)for(var oe=0;oe<te.length;oe++){var Ce;Be+=(Ce=te[oe]).rect.width*Ce.rect.height}return te}(l,f,m,F,v,C),Z={},Q=[],N=[];if(A!=0){const ie=[];for(D=0;D<q.length;D++)ie.push(q[D].img.buffer);const K=function(ee){let ce=0;for(var te=0;te<ee.length;te++)ce+=ee[te].byteLength;const V=new Uint8Array(ce);let ue=0;for(te=0;te<ee.length;te++){const Ae=new Uint8Array(ee[te]),Be=Ae.length;for(let oe=0;oe<Be;oe+=4){let Ce=Ae[oe],le=Ae[oe+1],de=Ae[oe+2];const he=Ae[oe+3];he==0&&(Ce=le=de=0),V[ue+oe]=Ce,V[ue+oe+1]=le,V[ue+oe+2]=de,V[ue+oe+3]=he}ue+=Be}return V.buffer}(ie),$=U(K,A);for(D=0;D<$.plte.length;D++)Q.push($.plte[D].est.rgba);let re=0;for(D=0;D<q.length;D++){const se=(Y=q[D]).img.length;var G=new Uint8Array($.inds.buffer,re>>2,se>>2);N.push(G);const ee=new Uint8Array($.abuf,re,se);P&&s(Y.img,Y.rect.width,Y.rect.height,Q,ee,G),Y.img.set(ee),re+=se}}else for(H=0;H<q.length;H++){var Y=q[H];const ie=new Uint32Array(Y.img.buffer);var ne=Y.rect.width;for(B=ie.length,G=new Uint8Array(B),N.push(G),D=0;D<B;D++){const K=ie[D];if(D!=0&&K==ie[D-1])G[D]=G[D-1];else if(D>ne&&K==ie[D-ne])G[D]=G[D-ne];else{let $=Z[K];if($==null&&(Z[K]=$=Q.length,Q.push(K),Q.length>=300))break;G[D]=$}}}const Ie=Q.length;for(Ie<=256&&o==0&&(j=Ie<=2?1:Ie<=4?2:Ie<=16?4:8,j=Math.max(j,u)),H=0;H<q.length;H++){(Y=q[H]).rect.x,Y.rect.y,ne=Y.rect.width;const ie=Y.rect.height;let K=Y.img;new Uint32Array(K.buffer);let $=4*ne,re=4;if(Ie<=256&&o==0){$=Math.ceil(j*ne/8);var ge=new Uint8Array($*ie);const se=N[H];for(let ee=0;ee<ie;ee++){D=ee*$;const ce=ee*ne;if(j==8)for(var X=0;X<ne;X++)ge[D+X]=se[ce+X];else if(j==4)for(X=0;X<ne;X++)ge[D+(X>>1)]|=se[ce+X]<<4-4*(1&X);else if(j==2)for(X=0;X<ne;X++)ge[D+(X>>2)]|=se[ce+X]<<6-2*(3&X);else if(j==1)for(X=0;X<ne;X++)ge[D+(X>>3)]|=se[ce+X]<<7-1*(7&X)}K=ge,I=3,re=1}else if(k==0&&q.length==1){ge=new Uint8Array(ne*ie*3);const se=ne*ie;for(D=0;D<se;D++){const ee=3*D,ce=4*D;ge[ee]=K[ce],ge[ee+1]=K[ce+1],ge[ee+2]=K[ce+2]}K=ge,I=2,re=3,$=3*ne}Y.img=K,Y.bpl=$,Y.bpp=re}return{ctype:I,depth:j,plte:Q,frames:q}}function i(l,f,m,A,w,F,v){const C=Uint8Array,u=Uint32Array,o=new C(l[w-1]),P=new u(l[w-1]),I=w+1<l.length?new C(l[w+1]):null,j=new C(l[w]),W=new u(j.buffer);let H=f,B=m,D=-1,k=-1;for(let Z=0;Z<F.height;Z++)for(let Q=0;Q<F.width;Q++){const N=F.x+Q,G=F.y+Z,Y=G*f+N,ne=W[Y];ne==0||A[w-1].dispose==0&&P[Y]==ne&&(I==null||I[4*Y+3]!=0)||(N<H&&(H=N),N>D&&(D=N),G<B&&(B=G),G>k&&(k=G))}D==-1&&(H=B=D=k=0),v&&((1&H)==1&&H--,(1&B)==1&&B--),F={x:H,y:B,width:D-H+1,height:k-B+1};const q=A[w];q.rect=F,q.blend=1,q.img=new Uint8Array(F.width*F.height*4),A[w-1].dispose==0?(E(o,f,m,q.img,F.width,F.height,-F.x,-F.y,0),r(j,f,m,q.img,F)):E(j,f,m,q.img,F.width,F.height,-F.x,-F.y,0)}function r(l,f,m,A,w){E(l,f,m,A,w.width,w.height,-w.x,-w.y,2)}function a(l,f,m,A,w,F,v){const C=[];let u,o=[0,1,2,3,4];F!=-1?o=[F]:(f*A>5e5||m==1)&&(o=[0]),v&&(u={level:0});const P=nn;for(var I=0;I<o.length;I++){for(let H=0;H<f;H++)d(w,l,H,A,m,o[I]);C.push(P.deflate(w,u))}let j,W=1e9;for(I=0;I<C.length;I++)C[I].length<W&&(j=I,W=C[I].length);return C[j]}function d(l,f,m,A,w,F){const v=m*A;let C=v+m;if(l[C]=F,C++,F==0)if(A<500)for(var u=0;u<A;u++)l[C+u]=f[v+u];else l.set(new Uint8Array(f.buffer,v,A),C);else if(F==1){for(u=0;u<w;u++)l[C+u]=f[v+u];for(u=w;u<A;u++)l[C+u]=f[v+u]-f[v+u-w]+256&255}else if(m==0){for(u=0;u<w;u++)l[C+u]=f[v+u];if(F==2)for(u=w;u<A;u++)l[C+u]=f[v+u];if(F==3)for(u=w;u<A;u++)l[C+u]=f[v+u]-(f[v+u-w]>>1)+256&255;if(F==4)for(u=w;u<A;u++)l[C+u]=f[v+u]-O(f[v+u-w],0,0)+256&255}else{if(F==2)for(u=0;u<A;u++)l[C+u]=f[v+u]+256-f[v+u-A]&255;if(F==3){for(u=0;u<w;u++)l[C+u]=f[v+u]+256-(f[v+u-A]>>1)&255;for(u=w;u<A;u++)l[C+u]=f[v+u]+256-(f[v+u-A]+f[v+u-w]>>1)&255}if(F==4){for(u=0;u<w;u++)l[C+u]=f[v+u]+256-O(0,f[v+u-A],0)&255;for(u=w;u<A;u++)l[C+u]=f[v+u]+256-O(f[v+u-w],f[v+u-A],f[v+u-w-A])&255}}}function U(l,f){const m=new Uint8Array(l),A=m.slice(0),w=new Uint32Array(A.buffer),F=_(A,f),v=F[0],C=F[1],u=m.length,o=new Uint8Array(u>>2);let P;if(m.length<2e7)for(var I=0;I<u;I+=4)P=b(v,j=m[I]*(1/255),W=m[I+1]*(1/255),H=m[I+2]*(1/255),B=m[I+3]*(1/255)),o[I>>2]=P.ind,w[I>>2]=P.est.rgba;else for(I=0;I<u;I+=4){var j=m[I]*.00392156862745098,W=m[I+1]*(1/255),H=m[I+2]*(1/255),B=m[I+3]*(1/255);for(P=v;P.left;)P=T(P.est,j,W,H,B)<=0?P.left:P.right;o[I>>2]=P.ind,w[I>>2]=P.est.rgba}return{abuf:A.buffer,inds:o,plte:C}}function _(l,f,m){m==null&&(m=1e-4);const A=new Uint32Array(l.buffer),w={i0:0,i1:l.length,bst:null,est:null,tdst:0,left:null,right:null};w.bst=M(l,w.i0,w.i1),w.est=g(w.bst);const F=[w];for(;F.length<f;){let C=0,u=0;for(var v=0;v<F.length;v++)F[v].est.L>C&&(C=F[v].est.L,u=v);if(C<m)break;const o=F[u],P=L(l,A,o.i0,o.i1,o.est.e,o.est.eMq255);if(o.i0>=P||o.i1<=P){o.est.L=0;continue}const I={i0:o.i0,i1:P,bst:null,est:null,tdst:0,left:null,right:null};I.bst=M(l,I.i0,I.i1),I.est=g(I.bst);const j={i0:P,i1:o.i1,bst:null,est:null,tdst:0,left:null,right:null};for(j.bst={R:[],m:[],N:o.bst.N-I.bst.N},v=0;v<16;v++)j.bst.R[v]=o.bst.R[v]-I.bst.R[v];for(v=0;v<4;v++)j.bst.m[v]=o.bst.m[v]-I.bst.m[v];j.est=g(j.bst),o.left=I,o.right=j,F[u]=I,F.push(j)}for(F.sort((C,u)=>u.bst.N-C.bst.N),v=0;v<F.length;v++)F[v].ind=v;return[w,F]}function b(l,f,m,A,w){if(l.left==null)return l.tdst=function(I,j,W,H,B){const D=j-I[0],k=W-I[1],q=H-I[2],Z=B-I[3];return D*D+k*k+q*q+Z*Z}(l.est.q,f,m,A,w),l;const F=T(l.est,f,m,A,w);let v=l.left,C=l.right;F>0&&(v=l.right,C=l.left);const u=b(v,f,m,A,w);if(u.tdst<=F*F)return u;const o=b(C,f,m,A,w);return o.tdst<u.tdst?o:u}function T(l,f,m,A,w){const{e:F}=l;return F[0]*f+F[1]*m+F[2]*A+F[3]*w-l.eMq}function L(l,f,m,A,w,F){for(A-=4;m<A;){for(;x(l,m,w)<=F;)m+=4;for(;x(l,A,w)>F;)A-=4;if(m>=A)break;const v=f[m>>2];f[m>>2]=f[A>>2],f[A>>2]=v,m+=4,A-=4}for(;x(l,m,w)>F;)m-=4;return m+4}function x(l,f,m){return l[f]*m[0]+l[f+1]*m[1]+l[f+2]*m[2]+l[f+3]*m[3]}function M(l,f,m){const A=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],w=[0,0,0,0],F=m-f>>2;for(let v=f;v<m;v+=4){const C=l[v]*.00392156862745098,u=l[v+1]*(1/255),o=l[v+2]*(1/255),P=l[v+3]*(1/255);w[0]+=C,w[1]+=u,w[2]+=o,w[3]+=P,A[0]+=C*C,A[1]+=C*u,A[2]+=C*o,A[3]+=C*P,A[5]+=u*u,A[6]+=u*o,A[7]+=u*P,A[10]+=o*o,A[11]+=o*P,A[15]+=P*P}return A[4]=A[1],A[8]=A[2],A[9]=A[6],A[12]=A[3],A[13]=A[7],A[14]=A[11],{R:A,m:w,N:F}}function g(l){const{R:f}=l,{m}=l,{N:A}=l,w=m[0],F=m[1],v=m[2],C=m[3],u=A==0?0:1/A,o=[f[0]-w*w*u,f[1]-w*F*u,f[2]-w*v*u,f[3]-w*C*u,f[4]-F*w*u,f[5]-F*F*u,f[6]-F*v*u,f[7]-F*C*u,f[8]-v*w*u,f[9]-v*F*u,f[10]-v*v*u,f[11]-v*C*u,f[12]-C*w*u,f[13]-C*F*u,f[14]-C*v*u,f[15]-C*C*u],P=o,I=R;let j=[Math.random(),Math.random(),Math.random(),Math.random()],W=0,H=0;if(A!=0)for(let D=0;D<16&&(j=I.multVec(P,j),H=Math.sqrt(I.dot(j,j)),j=I.sml(1/H,j),!(D!=0&&Math.abs(H-W)<1e-9));D++)W=H;const B=[w*u,F*u,v*u,C*u];return{Cov:o,q:B,e:j,L:W,eMq255:I.dot(I.sml(255,B),j),eMq:I.dot(j,B),rgba:(Math.round(255*B[3])<<24|Math.round(255*B[2])<<16|Math.round(255*B[1])<<8|Math.round(255*B[0])<<0)>>>0}}var R={multVec:(l,f)=>[l[0]*f[0]+l[1]*f[1]+l[2]*f[2]+l[3]*f[3],l[4]*f[0]+l[5]*f[1]+l[6]*f[2]+l[7]*f[3],l[8]*f[0]+l[9]*f[1]+l[10]*f[2]+l[11]*f[3],l[12]*f[0]+l[13]*f[1]+l[14]*f[2]+l[15]*f[3]],dot:(l,f)=>l[0]*f[0]+l[1]*f[1]+l[2]*f[2]+l[3]*f[3],sml:(l,f)=>[l*f[0],l*f[1],l*f[2],l*f[3]]};pe.encode=function(f,m,A,w,F,v,C){w==null&&(w=0),C==null&&(C=!1);const u=n(f,m,A,w,[!1,!1,!1,0,C,!1]);return y(u,-1),p(u,m,A,F,v)},pe.encodeLL=function(f,m,A,w,F,v,C,u){const o={ctype:0+(w==1?0:2)+(F==0?0:4),depth:v,frames:[]},P=(w+F)*v,I=P*m;for(let j=0;j<f.length;j++)o.frames.push({rect:{x:0,y:0,width:m,height:A},img:new Uint8Array(f[j]),blend:0,dispose:1,bpp:Math.ceil(P/8),bpl:Math.ceil(I/8)});return y(o,0,!0),p(o,m,A,C,u)},pe.encode.compress=n,pe.encode.dither=s,pe.quantize=U,pe.quantize.getKDtree=_,pe.quantize.getNearest=b})();const yt={toArrayBuffer(E,S){const O=E.width,h=E.height,e=O<<2,t=E.getContext("2d").getImageData(0,0,O,h),c=new Uint32Array(t.data.buffer),s=(32*O+31)/32<<2,p=s*h,y=122+p,n=new ArrayBuffer(y),i=new DataView(n),r=1<<20;let a,d,U,_,b=r,T=0,L=0,x=0;function M(l){i.setUint16(L,l,!0),L+=2}function g(l){i.setUint32(L,l,!0),L+=4}function R(l){L+=l}M(19778),g(y),R(4),g(122),g(108),g(O),g(-h>>>0),M(1),M(32),g(3),g(p),g(2835),g(2835),R(8),g(16711680),g(65280),g(255),g(4278190080),g(1466527264),function l(){for(;T<h&&b>0;){for(_=122+T*s,a=0;a<e;)b--,d=c[x++],U=d>>>24,i.setUint32(_+a,d<<8|U),a+=4;T++}x<c.length?(b=r,setTimeout(l,yt._dly)):S(n)}()},toBlob(E,S){this.toArrayBuffer(E,O=>{S(new Blob([O],{type:"image/bmp"}))})},_dly:9};var fe={CHROME:"CHROME",FIREFOX:"FIREFOX",DESKTOP_SAFARI:"DESKTOP_SAFARI",IE:"IE",IOS:"IOS",ETC:"ETC"},rn={[fe.CHROME]:16384,[fe.FIREFOX]:11180,[fe.DESKTOP_SAFARI]:16384,[fe.IE]:8192,[fe.IOS]:4096,[fe.ETC]:8192};const et=typeof window<"u",wt=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,Qe=et&&window.cordova&&window.cordova.require&&window.cordova.require("cordova/modulemapper"),on=(et||wt)&&(Qe&&Qe.getOriginalSymbol(window,"File")||typeof File<"u"&&File),At=(et||wt)&&(Qe&&Qe.getOriginalSymbol(window,"FileReader")||typeof FileReader<"u"&&FileReader);function tt(E,S,O=Date.now()){return new Promise(h=>{const e=E.split(","),t=e[0].match(/:(.*?);/)[1],c=globalThis.atob(e[1]);let s=c.length;const p=new Uint8Array(s);for(;s--;)p[s]=c.charCodeAt(s);const y=new Blob([p],{type:t});y.name=S,y.lastModified=O,h(y)})}function xt(E){return new Promise((S,O)=>{const h=new At;h.onload=()=>S(h.result),h.onerror=e=>O(e),h.readAsDataURL(E)})}function Ut(E){return new Promise((S,O)=>{const h=new Image;h.onload=()=>S(h),h.onerror=e=>O(e),h.src=E})}function Le(){if(Le.cachedResult!==void 0)return Le.cachedResult;let E=fe.ETC;const{userAgent:S}=navigator;return/Chrom(e|ium)/i.test(S)?E=fe.CHROME:/iP(ad|od|hone)/i.test(S)&&/WebKit/i.test(S)?E=fe.IOS:/Safari/i.test(S)?E=fe.DESKTOP_SAFARI:/Firefox/i.test(S)?E=fe.FIREFOX:(/MSIE/i.test(S)||document.documentMode)&&(E=fe.IE),Le.cachedResult=E,Le.cachedResult}function Ft(E,S){const O=Le(),h=rn[O];let e=E,t=S,c=e*t;const s=e>t?t/e:e/t;for(;c>h*h;){const p=(h+e)/2,y=(h+t)/2;p<y?(t=y,e=y*s):(t=p*s,e=p),c=e*t}return{width:e,height:t}}function Ve(E,S){let O,h;try{if(O=new OffscreenCanvas(E,S),h=O.getContext("2d"),h===null)throw new Error("getContext of OffscreenCanvas returns null")}catch{O=document.createElement("canvas"),h=O.getContext("2d")}return O.width=E,O.height=S,[O,h]}function It(E,S){const{width:O,height:h}=Ft(E.width,E.height),[e,t]=Ve(O,h);return S&&/jpe?g/.test(S)&&(t.fillStyle="white",t.fillRect(0,0,e.width,e.height)),t.drawImage(E,0,0,e.width,e.height),e}function qe(){return qe.cachedResult!==void 0||(qe.cachedResult=["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&typeof document<"u"&&"ontouchend"in document),qe.cachedResult}function Ge(E,S={}){return new Promise(function(O,h){let e,t;var c=function(){try{return t=It(e,S.fileType||E.type),O([e,t])}catch(p){return h(p)}},s=function(p){try{var y=function(n){try{throw n}catch(i){return h(i)}};try{let n;return xt(E).then(function(i){try{return n=i,Ut(n).then(function(r){try{return e=r,function(){try{return c()}catch(a){return h(a)}}()}catch(a){return y(a)}},y)}catch(r){return y(r)}},y)}catch(n){y(n)}}catch(n){return h(n)}};try{if(qe()||[fe.DESKTOP_SAFARI,fe.MOBILE_SAFARI].includes(Le()))throw new Error("Skip createImageBitmap on IOS and Safari");return createImageBitmap(E).then(function(p){try{return e=p,c()}catch{return s()}},s)}catch{s()}})}function $e(E,S,O,h,e=1){return new Promise(function(t,c){let s;if(S==="image/png"){let y,n,i;return y=E.getContext("2d"),{data:n}=y.getImageData(0,0,E.width,E.height),i=pe.encode([n.buffer],E.width,E.height,4096*e),s=new Blob([i],{type:S}),s.name=O,s.lastModified=h,p.call(this)}{let y=function(){return p.call(this)};if(S==="image/bmp")return new Promise(n=>yt.toBlob(E,n)).then((function(n){try{return s=n,s.name=O,s.lastModified=h,y.call(this)}catch(i){return c(i)}}).bind(this),c);{let n=function(){return y.call(this)};if(typeof OffscreenCanvas=="function"&&E instanceof OffscreenCanvas)return E.convertToBlob({type:S,quality:e}).then((function(i){try{return s=i,s.name=O,s.lastModified=h,n.call(this)}catch(r){return c(r)}}).bind(this),c);{let i;return i=E.toDataURL(S,e),tt(i,O,h).then((function(r){try{return s=r,n.call(this)}catch(a){return c(a)}}).bind(this),c)}}}function p(){return t(s)}})}function be(E){E.width=0,E.height=0}function Se(){return new Promise(function(E,S){let O,h,e,t;return Se.cachedResult!==void 0?E(Se.cachedResult):tt("data:image/jpeg;base64,/9j/4QAiRXhpZgAATU0AKgAAAAgAAQESAAMAAAABAAYAAAAAAAD/2wCEAAEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAQEBAf/AABEIAAEAAgMBEQACEQEDEQH/xABKAAEAAAAAAAAAAAAAAAAAAAALEAEAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAAAAAAAAAAAAAAAEQEAAAAAAAAAAAAAAAAAAAAA/9oADAMBAAIRAxEAPwA/8H//2Q==","test.jpg",Date.now()).then(function(c){try{return O=c,Ge(O).then(function(s){try{return h=s[1],$e(h,O.type,O.name,O.lastModified).then(function(p){try{return e=p,be(h),Ge(e).then(function(y){try{return t=y[0],Se.cachedResult=t.width===1&&t.height===2,E(Se.cachedResult)}catch(n){return S(n)}},S)}catch(y){return S(y)}},S)}catch(p){return S(p)}},S)}catch(s){return S(s)}},S)})}function Ct(E){return new Promise((S,O)=>{const h=new At;h.onload=e=>{const t=new DataView(e.target.result);if(t.getUint16(0,!1)!=65496)return S(-2);const c=t.byteLength;let s=2;for(;s<c;){if(t.getUint16(s+2,!1)<=8)return S(-1);const p=t.getUint16(s,!1);if(s+=2,p==65505){if(t.getUint32(s+=2,!1)!=1165519206)return S(-1);const y=t.getUint16(s+=6,!1)==18761;s+=t.getUint32(s+4,y);const n=t.getUint16(s,y);s+=2;for(let i=0;i<n;i++)if(t.getUint16(s+12*i,y)==274)return S(t.getUint16(s+12*i+8,y))}else{if((65280&p)!=65280)break;s+=t.getUint16(s,!1)}}return S(-1)},h.onerror=e=>O(e),h.readAsArrayBuffer(E)})}function _t(E,S){const{width:O}=E,{height:h}=E,{maxWidthOrHeight:e}=S;let t,c=E;return isFinite(e)&&(O>e||h>e)&&([c,t]=Ve(O,h),O>h?(c.width=e,c.height=h/O*e):(c.width=O/h*e,c.height=e),t.drawImage(E,0,0,c.width,c.height),be(E)),c}function Tt(E,S){const{width:O}=E,{height:h}=E,[e,t]=Ve(O,h);switch(S>4&&S<9?(e.width=h,e.height=O):(e.width=O,e.height=h),S){case 2:t.transform(-1,0,0,1,O,0);break;case 3:t.transform(-1,0,0,-1,O,h);break;case 4:t.transform(1,0,0,-1,0,h);break;case 5:t.transform(0,1,1,0,0,0);break;case 6:t.transform(0,1,-1,0,h,0);break;case 7:t.transform(0,-1,-1,0,h,O);break;case 8:t.transform(0,-1,1,0,0,O)}return t.drawImage(E,0,0,O,h),be(E),e}function dt(E,S,O=0){return new Promise(function(h,e){let t,c,s,p,y,n,i,r,a,d,U,_,b,T,L,x,M,g,R,l;function f(A=5){if(S.signal&&S.signal.aborted)throw S.signal.reason;t+=A,S.onProgress(Math.min(t,100))}function m(A){if(S.signal&&S.signal.aborted)throw S.signal.reason;t=Math.min(Math.max(A,t),100),S.onProgress(t)}return t=O,c=S.maxIteration||10,s=1024*S.maxSizeMB*1024,f(),Ge(E,S).then((function(A){try{return[,p]=A,f(),y=_t(p,S),f(),new Promise(function(w,F){var v;if(!(v=S.exifOrientation))return Ct(E).then((function(u){try{return v=u,C.call(this)}catch(o){return F(o)}}).bind(this),F);function C(){return w(v)}return C.call(this)}).then((function(w){try{return n=w,f(),Se().then((function(F){try{return i=F?y:Tt(y,n),f(),r=S.initialQuality||1,a=S.fileType||E.type,$e(i,a,E.name,E.lastModified,r).then((function(v){try{{let u=function(){if(c--&&(L>s||L>b)){let P,I;return P=l?.95*R.width:R.width,I=l?.95*R.height:R.height,[M,g]=Ve(P,I),g.drawImage(R,0,0,P,I),r*=a==="image/png"?.85:.95,$e(M,a,E.name,E.lastModified,r).then(function(j){try{return x=j,be(R),R=M,L=x.size,m(Math.min(99,Math.floor((T-L)/(T-s)*100))),u}catch(W){return e(W)}},e)}return[1]},o=function(){return be(R),be(M),be(y),be(i),be(p),m(100),h(x)};if(d=v,f(),U=d.size>s,_=d.size>E.size,!U&&!_)return m(100),h(d);var C;return b=E.size,T=d.size,L=T,R=i,l=!S.alwaysKeepResolution&&U,(C=(function(P){for(;P;){if(P.then)return void P.then(C,e);try{if(P.pop){if(P.length)return P.pop()?o.call(this):P;P=u}else P=P.call(this)}catch(I){return e(I)}}}).bind(this))(u)}}catch(u){return e(u)}}).bind(this),e)}catch(v){return e(v)}}).bind(this),e)}catch(F){return e(F)}}).bind(this),e)}catch(w){return e(w)}}).bind(this),e)})}const an=`
let scriptImported = false
self.addEventListener('message', async (e) => {
  const { file, id, imageCompressionLibUrl, options } = e.data
  options.onProgress = (progress) => self.postMessage({ progress, id })
  try {
    if (!scriptImported) {
      // console.log('[worker] importScripts', imageCompressionLibUrl)
      self.importScripts(imageCompressionLibUrl)
      scriptImported = true
    }
    // console.log('[worker] self', self)
    const compressedFile = await imageCompression(file, options)
    self.postMessage({ file: compressedFile, id })
  } catch (e) {
    // console.error('[worker] error', e)
    self.postMessage({ error: e.message + '\\n' + e.stack, id })
  }
})
`;let Xe;function sn(E,S){return new Promise((O,h)=>{Xe||(Xe=function(c){const s=[];return s.push(c),URL.createObjectURL(new Blob(s))}(an));const e=new Worker(Xe);e.addEventListener("message",function(c){if(S.signal&&S.signal.aborted)e.terminate();else if(c.data.progress===void 0){if(c.data.error)return h(new Error(c.data.error)),void e.terminate();O(c.data.file),e.terminate()}else S.onProgress(c.data.progress)}),e.addEventListener("error",h),S.signal&&S.signal.addEventListener("abort",()=>{h(S.signal.reason),e.terminate()}),e.postMessage({file:E,imageCompressionLibUrl:S.libURL,options:{...S,onProgress:void 0,signal:void 0}})})}function ae(E,S){return new Promise(function(O,h){let e,t,c,s,p,y;if(e={...S},c=0,{onProgress:s}=e,e.maxSizeMB=e.maxSizeMB||Number.POSITIVE_INFINITY,p=typeof e.useWebWorker!="boolean"||e.useWebWorker,delete e.useWebWorker,e.onProgress=a=>{c=a,typeof s=="function"&&s(c)},!(E instanceof Blob||E instanceof on))return h(new Error("The file given is not an instance of Blob or File"));if(!/^image/.test(E.type))return h(new Error("The file given is not an image"));if(y=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope,!p||typeof Worker!="function"||y)return dt(E,e).then((function(a){try{return t=a,r.call(this)}catch(d){return h(d)}}).bind(this),h);var n=(function(){try{return r.call(this)}catch(a){return h(a)}}).bind(this),i=function(a){try{return dt(E,e).then(function(d){try{return t=d,n()}catch(U){return h(U)}},h)}catch(d){return h(d)}};try{return e.libURL=e.libURL||"https://cdn.jsdelivr.net/npm/browser-image-compression@2.0.2/dist/browser-image-compression.js",sn(E,e).then(function(a){try{return t=a,n()}catch{return i()}},i)}catch{i()}function r(){try{t.name=E.name,t.lastModified=E.lastModified}catch{}try{e.preserveExif&&E.type==="image/jpeg"&&(!e.fileType||e.fileType&&e.fileType===E.type)&&(t=bt(E,t))}catch{}return O(t)}})}ae.getDataUrlFromFile=xt,ae.getFilefromDataUrl=tt,ae.loadImage=Ut,ae.drawImageInCanvas=It,ae.drawFileInCanvas=Ge,ae.canvasToFile=$e,ae.getExifOrientation=Ct,ae.handleMaxWidthOrHeight=_t,ae.followExifOrientation=Tt,ae.cleanupCanvasMemory=be,ae.isAutoOrientationInBrowser=Se,ae.approximateBelowMaximumCanvasSizeOfBrowser=Ft,ae.copyExifWithoutOrientation=bt,ae.getBrowserName=Le,ae.version="2.0.2";var nt={},ln=kt;Object.defineProperty(nt,"__esModule",{value:!0});var Et=nt.default=void 0,fn=ln(Pt()),cn=z;Et=nt.default=(0,fn.default)((0,cn.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload");const un=we("input")({clip:"rect(0 0 0 0)",clipPath:"inset(50%)",height:1,overflow:"hidden",position:"absolute",bottom:0,left:0,whiteSpace:"nowrap",width:1});Ye.propTypes={onChange:J.func.isRequired,disabled:J.bool,multiple:J.bool,buttonText:J.string.isRequired,onlyImages:J.bool,isLoading:J.bool};function Ye({onChange:E,disabled:S,multiple:O=!1,buttonText:h,onlyImages:e=!1,isLoading:t}){return z.jsxs(gt,{component:"label",role:void 0,variant:"contained",tabIndex:-1,startIcon:z.jsx(Et,{}),disabled:S||t,children:[h,z.jsx(un,{type:"file",onChange:E,multiple:O,accept:e?"image/*":""})]})}Rt.propTypes={handleFileChange:J.func.isRequired,handlePosterChange:J.func.isRequired,handleUpload:J.func.isRequired,files:J.array.isRequired};function Rt({handleFileChange:E,handlePosterChange:S}){const O=ke(Je),h=ke(mt);return z.jsx(z.Fragment,{children:z.jsxs(Fe,{sx:{display:"flex",flexWrap:"wrap",alignItems:"center",justifyContent:"center",gap:"8px"},children:[z.jsx(Ye,{onChange:E,isLoading:h,multiple:!0,buttonText:ve.inputUpLoad[O]}),z.jsx(Ye,{isLoading:h,onlyImages:!0,multiple:!0,onChange:S,buttonText:ve.inputUpLoadPoster[O]})]})})}Lt.propTypes={handleUpload:J.func.isRequired,handleFileChange:J.func.isRequired,handlePosterChange:J.func.isRequired,files:J.array.isRequired,setFiles:J.func.isRequired,defaultCategory:J.string};const pt={ua:`#   
** **  
__  
[](https://example.com)  
- `,en:`# Title  
**Bold text**  
_Italic_  
[Link](https://example.com)  
- List`},hn=/^(https?:\/\/)?(www\.)?(youtube\.com\/(?:[^\n\s]+\/\S+|\S+)?|vimeo\.com\/\d+)(?:[?&][^&]*\S+)?$/i,dn={ua:"  ",en:"Formatting Guide"};function Lt({handleUpload:E,handleFileChange:S,handlePosterChange:O,files:h,setFiles:e,defaultCategory:t}){var U,_,b,T,L;const{register:c,handleSubmit:s,formState:{errors:p},control:y}=qt(),n=ke(Je),i=ke(mt),r=n==="ua"?`
# 
** **
__
[](https://example.com)
- `:`
# Title
**Bold text**
_Italic_
[Link](https://example.com)
- List`,a=x=>{Object.keys(p).length>0||E(x)},d=()=>{if(t){const x=[...st],M=x.findIndex(({en:g})=>g===t);if(M!==-1){const g=x.splice(M,1);return x.splice(0,0,g[0]),x}}return st};return z.jsxs("form",{style:{width:"100%",display:"flex",flexDirection:"column",alignItems:"center",gap:"25px"},onSubmit:s(a),children:[z.jsxs(Oe,{fullWidth:!0,error:!!(p!=null&&p.category),children:[z.jsx(De,{children:ve.selectUpLoadCategotyLable[n]}),z.jsx(ut,{name:"category",control:y,defaultValue:d()[0].en,rules:{required:{value:!0,message:Re({lang:n,errorType:"required"})}},render:({field:x})=>z.jsx(Zt,{...x,label:ve.selectUpLoadCategotyLable[n],children:d().map(M=>z.jsx(Kt,{value:M.en,children:M[n]},M.id))})}),z.jsx(He,{children:(U=p==null?void 0:p.category)==null?void 0:U.message})]}),z.jsxs(Oe,{sx:{width:"100%"},disabled:i,error:!!(p!=null&&p.title),children:[z.jsx(De,{htmlFor:"title",children:ve.inputUpLoadTitleLable[n]}),z.jsx(ze,{name:"title",label:ve.inputUpLoadTitleLable[n],fullWidth:!0,id:"title",...c("title",{required:{value:!0,message:Re({lang:n,errorType:"required"})},maxLength:{value:100,message:Re({lang:n,errorType:"maxLength",length:100})},minLength:{value:3,message:Re({lang:n,errorType:"minLength",length:3})}})}),z.jsx(He,{children:(_=p.title)==null?void 0:_.message})]}),z.jsxs(Oe,{sx:{width:"100%"},disabled:i,error:!!(p!=null&&p.mainText),children:[z.jsx(De,{htmlFor:"mainText",children:ve.inputUpLoadDescriptionLable[n]}),z.jsx(ut,{name:"mainText",control:y,defaultValue:"",rules:{maxLength:{value:5e3,message:Re({lang:n,errorType:"maxLength",length:5e3})}},render:({field:x})=>z.jsxs("div",{children:[z.jsx(ze,{...x,label:ve.inputUpLoadDescriptionLable[n],fullWidth:!0,id:"mainText",minRows:6,maxRows:7,multiline:!0,placeholder:r,onChange:M=>x.onChange(M)}),z.jsx(vt,{elevation:3,style:{marginTop:"20px",padding:"10px",maxHeight:"300px",overflow:"auto",scrollbarWidth:"thin",borderRadius:"4px",minHeight:"220px"},children:(x==null?void 0:x.value.trim().length)>0?z.jsx(Gt,{remarkPlugins:[$t],components:{a:({node:M,...g})=>z.jsx("a",{...g,target:"_blank",rel:"noopener noreferrer",children:g.children})},children:x.value}):z.jsx(Vt,{children:pt[n]||pt.en})}),z.jsx(jt,{to:"/FormattingGuide",style:{textDecoration:"none"},children:z.jsx(Ot,{variant:"caption",color:"inherit",children:dn[n]})})]})}),z.jsx(He,{children:(b=p.mainText)==null?void 0:b.message})]}),z.jsxs(Oe,{sx:{width:"100%"},disabled:i,error:!!(p!=null&&p.tags),children:[z.jsx(De,{htmlFor:"tags",children:n==="ua"?" ( )":"Tags (separated by commas)"}),z.jsx(ze,{name:"tags",label:n==="ua"?" ( )":"Tags (separated by commas)",fullWidth:!0,id:"tags",...c("tags",{validate:x=>{const M=x.split(",").map(g=>g.trim());return M.length>10?n==="ua"?"No more than 10 tags":"  10 ":M.some(g=>g.length>30)?n==="ua"?"The maximum length of one tag is 30 characters":"     30 ":!0}})}),z.jsx(He,{children:(T=p.tags)==null?void 0:T.message})]}),z.jsxs(Oe,{sx:{width:"100%"},disabled:i,error:!!(p!=null&&p.videoLink),children:[z.jsx(De,{htmlFor:"videoLink",children:ve.inputUpLoadVideoLinkLable[n]}),z.jsx(ze,{name:"videoLink",label:ve.inputUpLoadVideoLinkLable[n],fullWidth:!0,id:"videoLink",...c("videoLink",{maxLength:{value:100,message:Re({lang:n,errorType:"maxLength",length:100})},validate:{validUrl:x=>x===""||hn.test(x)||Re({lang:n,errorType:"invalidUrl"})}})}),z.jsx(He,{children:(L=p.videoLink)==null?void 0:L.message})]}),z.jsx(Nt,{files:h,setFiles:e}),z.jsx(ot,{sx:{width:"100%"}}),z.jsx(Rt,{handleFileChange:S,handlePosterChange:O,handleUpload:E,files:h}),z.jsx(ot,{sx:{width:"100%"}}),z.jsx(gt,{type:"submit",variant:"contained",disabled:i,children:i?at.loading[n]:at.addPost[n]})]})}const pn=we(vt)`
  padding: 70px 20px 40px;
  width: 100%;
  max-width: 600px;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 40px;
  overflow: auto;
`,gn=we(Fe)`
  position: absolute;
  right: 10px;
  top: 5px;
`,mn=49*1024*1024,vn=5*1024*1024,bn=({setOpen:E,setLoading:S,defaultTag:O="",defaultCategory:h,nameCollection:e})=>{const t=ke(Je),c=ke(Dt),s=Ht(),[p,y]=We.useState([]),[n,i]=We.useState([]),[r,a]=We.useState([]),d=We.useRef(null),U=async T=>{const L=Array.from(T.target.files).slice(0,10),x=[],M=[],g=L.filter(R=>R.size<=vn);g.length!==L.length&&lt("warning",ft({language:t,notifyType:ct.maxSize,extraText:"5MB"}));for(const R of g)try{const f=await ae(R,{maxSizeMB:1,maxWidthOrHeight:800,useWebp:!0}),m=new File([f],R.name,{type:f.type});M.push(m),x.push(URL.createObjectURL(m))}catch(l){console.error("   :",l)}y(M),i(x)},_=T=>{const L=Array.from(T.target.files).slice(0,10),x=L.filter(M=>M.size<=mn);x.length!==L.length&&lt("warning",ft({language:t,notifyType:ct.maxSize,extraText:"50MB"})),a(x)},b=async T=>{var L,x,M,g,R;try{S(!0),d.current&&d.current.cancel("  "),d.current=Wt.CancelToken.source();const l=new FormData;l.append("adder",JSON.stringify({name:c.displayName,uid:c.uid,photoURL:c.photoURL})),((L=T==null?void 0:T.tags)!=null&&L.trim()||O)&&l.append("tags",`${T==null?void 0:T.tags}, ${O}`),(x=T==null?void 0:T.mainText)!=null&&x.trim()&&l.append("description",T==null?void 0:T.mainText),(M=T==null?void 0:T.title)!=null&&M.trim()&&l.append("title",T==null?void 0:T.title),(g=T==null?void 0:T.videoLink)!=null&&g.trim()&&l.append("videoLink",T==null?void 0:T.videoLink),(R=T==null?void 0:T.category)!=null&&R.trim()&&l.append("category",T==null?void 0:T.category),p.length>0&&p.forEach(f=>l.append("poster",f)),r.length>0&&r.forEach(f=>l.append("file",f)),s(zt({cancelToken:d.current.token,formData:l,language:t,nameCollection:e})).finally(()=>{S(!1)}),E(!1)}catch(l){console.error("  :",l)}};return z.jsxs(pn,{children:[z.jsx(gn,{children:z.jsx(Bt,{onClick:()=>E(!1),children:z.jsx(Xt,{})})}),z.jsx(Yt,{children:n.length>0&&z.jsx(Qt,{images:n,setPosterPreview:i,variant:"preview"})}),z.jsx(Lt,{defaultCategory:h,handleUpload:b,handleFileChange:_,handlePosterChange:U,files:r,setFiles:a})]})};bn.propTypes={setOpen:J.func.isRequired,setLoading:J.func.isRequired,defaultTag:J.string,defaultCategory:J.string,nameCollection:J.string.isRequired};export{Tn as H,Mn as I,Ln as P,Rn as W,En as a,Sn as b,bn as c};
