import{j as e,B as x,T as v,I as l,a,r as I,aa as f,v as w,w as P}from"./index-CTfWcysl.js";import{c as _,e as $,f as b,g as S,d as k,a as F}from"./Favorite-C4MA1HPZ.js";import{d as h}from"./Close-Butc4ciz.js";import{A as R}from"./index-FpdLDG1y.js";B.propTypes={files:a.array.isRequired,setFiles:a.func,variant:a.string};const z=r=>r<1024?`${r} B`:r<1024*1024?`${(r/1024).toFixed(1)} KB`:r<1024*1024*1024?`${(r/1024/1024).toFixed(1)} MB`:`${(r/1024/1024/1024).toFixed(1)} GB`;function B({files:r=[],setFiles:p,variant:o}){const s=t=>{const i=r.filter((u,c)=>c!==t);p(i)};return e.jsx(x,{sx:{display:"flex",flexDirection:"column",gap:"5px",width:"100%"},children:r.map((t,i)=>e.jsx("div",{children:e.jsx("a",{href:o==="fullPost"&&(t!=null&&t.url)?t.url:void 0,download:o==="fullPost"?t==null?void 0:t.name:void 0,style:{color:"inherit",textDecoration:"none",cursor:o==="fullPost"?"pointer":"default"},children:e.jsxs(x,{sx:{display:"inline-flex",alignItems:"center",gap:"5px",transition:"color ease-in-out 300ms","&:hover":o==="fullPost"&&{color:"lightblue"}},children:[t.type==="application/x-compressed"||t.type==="application/x-zip-compressed"?e.jsx(_,{}):t.type==="image/jpeg"?e.jsx($,{}):t.type==="application/pdf"?e.jsx(b,{}):e.jsx(S,{}),e.jsx(v,{variant:"caption",children:`${t.name}: ${z(t.size)}`}),o!=="fullPost"&&e.jsx(l,{onClick:()=>s(i),children:e.jsx(h,{fontSize:"small",color:"error"})})]})})},i))})}C.propTypes={images:a.array.isRequired,setPosterPreview:a.func,variant:a.string};function C({images:r=[],setPosterPreview:p,variant:o}){let s=[];o==="post"||o==="fullPost"?s=r.map(({url:n})=>n):s=r;const[t,i]=I.useState(0),u=()=>{if(s.length===0)return;const n=s.filter((E,m)=>m!==t),y=t>0?t-1:0;p(n),i(y)},c=()=>{i(n=>(n+1)%s.length)},g=()=>{i(n=>(n-1+s.length)%s.length)},j=n=>{switch(n){case"post":return{maxHeight:"180px"};case"preview":return{maxWidth:"300px",height:"300px"};case"fullPost":return{height:"400px"};default:return{}}};return e.jsxs(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},style:{width:"100%",height:"100%",position:"relative",...j(o)},children:[o==="preview"&&e.jsx("div",{style:{position:"absolute",top:"10px",right:"10px",zIndex:"11"},children:e.jsx(l,{onClick:u,sx:{bgcolor:"#00000040"},children:e.jsx(h,{fontSize:"inherit",color:"error"})})}),s.length>1&&e.jsxs("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",position:"absolute",justifyContent:"space-between",zIndex:10},children:[e.jsx(l,{onClick:g,children:e.jsx(k,{fontSize:"large"})}),e.jsx(l,{onClick:c,children:e.jsx(F,{fontSize:"large"})})]}),e.jsx(R,{mode:"wait",children:e.jsx(f.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.3},style:{backgroundImage:`url(${s[t]})`,width:"100%",height:"100%",backgroundPosition:"center",backgroundSize:o==="fullPost"?"contain":"cover",backgroundRepeat:"no-repeat",display:"block",borderRadius:o==="post"?"10px 10px 0 0":"10px"}},t)})]},t)}var d={},D=w;Object.defineProperty(d,"__esModule",{value:!0});var q=d.default=void 0,A=D(P()),T=e;q=d.default=(0,A.default)((0,T.jsx)("path",{d:"m21.9 21.9-8.49-8.49-9.82-9.82L2.1 2.1.69 3.51 3 5.83V19c0 1.1.9 2 2 2h13.17l2.31 2.31zM5 18l3.5-4.5 2.5 3.01L12.17 15l3 3zm16 .17L5.83 3H19c1.1 0 2 .9 2 2z"}),"ImageNotSupported");export{B as F,C as I,q as d};
