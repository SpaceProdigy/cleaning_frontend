import{s as A,r,u as o,b as E,k as F,t as N,v as O,w as W,j as e,T as a,n as B,B as L,N as x,x as J,y as T}from"./index-DczY0xYt.js";import{u as k}from"./index.esm-cYDOXwBX.js";import{o as D}from"./index.esm-Cw5Lf-9T.js";import{W as H,A as C,l as G}from"./WaitAuth-P8slIWy1.js";import{F as h,I as f,O as j}from"./OutlinedInput-DYhFxr1G.js";import{F as S}from"./FormHelperText-tkcXVoHL.js";import"./CircularProgress-DcvygJ5k.js";const P=A("form")`
  width: 100%;
  margin: 30px 0;
  max-width: 400px;
  display: flex;
  justify-content: center;
  flex-direction: column;
  align-items: center;
  gap: 10px;
`,U=()=>{var p,g;const[n,l]=r.useState(JSON.parse(localStorage.getItem("signin"))&&JSON.parse(localStorage.getItem("signin"))),t=o(E),v=F(),s=o(N),c=o(O),u=W();r.useEffect(()=>{c&&u("/")},[c,u]);const{register:d,handleSubmit:y,formState:{errors:m},reset:b}=k({resolver:D(G),mode:"onBlur",defaultValues:n&&n}),I=async i=>{await v(T(i)),b(),l(),localStorage.removeItem("signin")};return r.useEffect(()=>{(JSON.parse(localStorage.getItem("signin"))||n)&&localStorage.setItem("signin",JSON.stringify(n))},[n]),e.jsxs(e.Fragment,{children:[s&&e.jsx(H,{language:t,isLoading:s}),e.jsxs(P,{onSubmit:y(I),children:[e.jsx(a,{variant:"h5",sx:{mb:3},children:t==="en"?"Sign in":"Увійти"}),e.jsxs(h,{variant:"outlined",fullWidth:!0,children:[e.jsx(f,{variant:"outlined",children:t==="en"?"Email":"Електронна пошта"}),e.jsx(j,{label:t==="en"?"Email":"Електронна пошта",placeholder:t==="en"?"Enter your email":"Введіть свою електронну адресу",onInput:i=>l(w=>({...w,email:i.target.value})),...d("email")}),e.jsx(S,{sx:{minHeight:50},error:!0,children:(p=m.email)==null?void 0:p.message[t]})]}),e.jsxs(h,{variant:"outlined",fullWidth:!0,children:[e.jsx(f,{variant:"outlined",children:t==="en"?"Password":"Пароль"}),e.jsx(j,{label:t==="en"?"Password":"Пароль",type:"password",placeholder:t==="en"?"Enter your password":"Введіть ваш пароль",...d("password")}),e.jsx(S,{sx:{minHeight:40},error:!0,children:(g=m.password)==null?void 0:g.message[t]})]}),e.jsx(B,{type:"submit",variant:"contained",fullWidth:!0,size:"large",disabled:s,children:t==="en"?"Submit":"Надіслати"}),e.jsx(C,{text:t==="en"?"Sign in with google":"Ввійти з Google"})]}),e.jsx(L,{m:1,textAlign:"center",children:t==="en"?e.jsxs(a,{variant:"caption",children:["I don't have an account.",e.jsx(x,{to:"/signup",style:{textDecoration:"none"},children:e.jsxs(a,{component:"span",variant:"caption",color:"#3498db",children:[" ","Sign up"]})}),"."]}):e.jsxs(a,{variant:"caption",children:["У мене немає облікового запису.",e.jsxs(x,{to:"/signup",style:{textDecoration:"none"},children:[" ",e.jsxs(a,{component:"span",variant:"caption",color:"#3498db",children:[" ","Зареєструватися"]})]}),"."]})}),e.jsx(J,{})]})};export{U as default};
