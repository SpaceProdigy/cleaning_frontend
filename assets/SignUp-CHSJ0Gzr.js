import{s as E,r as c,u as d,b as F,k as L,v as N,t as W,w as O,j as e,T as s,n as B,B as H,N as y,x as J,z as T}from"./index-C8OyC57M.js";import{u as k}from"./index.esm-v6dJumaS.js";import{o as D}from"./index.esm-Dk6KchLF.js";import{W as z,A as C,s as G}from"./WaitAuth-Cs9NVuJR.js";import{F as p,I as m,O as g}from"./OutlinedInput-CBqLnr36.js";import{F as x}from"./FormHelperText-CoSOEkcg.js";import"./CircularProgress-DgGW_SMI.js";const P=E("form")`
  width: 100%;
  margin: 30px 0;
  max-width: 400px;
  display: flex;
  justify-content: center;
  flex-direction: column;
  align-items: center;
  gap: 10px;
`,X=()=>{var f,S,v;const[a,r]=c.useState(JSON.parse(localStorage.getItem("signup"))&&JSON.parse(localStorage.getItem("signup"))),t=d(F),b=L(),h=d(N),i=d(W),j=O();c.useEffect(()=>{h&&j("/")},[h,j]);const{register:o,handleSubmit:I,formState:{errors:l},reset:w}=k({resolver:D(G),mode:"onBlur",defaultValues:a??{login:"",email:"",password:""}}),A=async n=>{b(T(n)),w(),r(null),localStorage.removeItem("signup")};return c.useEffect(()=>{(JSON.parse(localStorage.getItem("signup"))||a)&&localStorage.setItem("signup",JSON.stringify(a))},[a]),e.jsxs(e.Fragment,{children:[i&&e.jsx(z,{language:t,isLoading:i}),e.jsxs(P,{onSubmit:I(A),children:[e.jsx(s,{variant:"h5",sx:{mb:3},children:t==="en"?"Sign up":"Зареєструватися"}),e.jsxs(p,{variant:"outlined",fullWidth:!0,children:[e.jsx(m,{variant:"outlined",children:t==="en"?"Login":"Логін"}),e.jsx(g,{label:t==="en"?"Login":"Логін",placeholder:t==="en"?"Enter your login or email":"Введіть свій логін або email",onInput:n=>r(u=>({...u,login:n.target.value})),...o("login")}),e.jsx(x,{sx:{minHeight:50},error:!0,children:(f=l.login)==null?void 0:f.message[t]})]}),e.jsxs(p,{variant:"outlined",fullWidth:!0,children:[e.jsx(m,{variant:"outlined",children:t==="en"?"Email":"Електронна пошта"}),e.jsx(g,{label:t==="en"?"Email":"Електронна пошта",type:"email",placeholder:t==="en"?"Enter your email":"Введіть свою електронну адресу",onInput:n=>r(u=>({...u,email:n.target.value})),...o("email")}),e.jsx(x,{sx:{minHeight:50},error:!0,children:(S=l.email)==null?void 0:S.message[t]})]}),e.jsxs(p,{variant:"outlined",fullWidth:!0,children:[e.jsx(m,{variant:"outlined",children:t==="en"?"Password":"Пароль"}),e.jsx(g,{label:t==="en"?"Password":"Пароль",type:"password",placeholder:t==="en"?"Enter your password":"Введіть ваш пароль",...o("password")}),e.jsx(x,{sx:{minHeight:40},error:!0,children:(v=l.password)==null?void 0:v.message[t]})]}),e.jsx(B,{type:"submit",variant:"contained",fullWidth:!0,size:"large",disabled:i,children:t==="en"?"Submit":"Надіслати"}),e.jsx(C,{text:t==="en"?"Sign up with google":"Зареєструватись з Google"}),e.jsx(H,{m:1,textAlign:"center",children:t==="en"?e.jsxs(s,{variant:"caption",children:["Already registered to"," ",e.jsxs(y,{to:"/signin",style:{textDecoration:"none"},children:[" ",e.jsxs(s,{component:"span",variant:"caption",color:"#3498db",children:[" ","sign in"]})]}),"."]}):e.jsxs(s,{variant:"caption",children:["Вже зареєстрований",e.jsxs(y,{to:"/signin",style:{textDecoration:"none"},children:[" ",e.jsxs(s,{component:"span",variant:"caption",color:"#3498db",children:[" ","увійти"," "]})]}),"в обліковий запис."]})})]}),e.jsx(J,{})]})};export{X as default};
